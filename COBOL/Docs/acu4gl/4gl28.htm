<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.6.1058" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/13/06 09:41:27" />
  <title>2.5  The Demonstration Program</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Acu4GL User's Guide <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="4gl2.htm">Chapter 2: Getting Started</a> &gt; </p>
<a name="wp1033774"> </a><h2 class="pHeading1">
2.5  The Demonstration Program
</h2>
<a name="wp1033779"> </a><p class="pBody">
As soon as your installation and setup are complete, you may run the demonstration program (&quot;demo.cbl&quot;) included on your distribution medium.  This program illustrates many of the Acu4GL product capabilities, including: 
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1033780"> </a><div class="pSmartList1"><li>how to map RDBMS data types to traditional COBOL data types</li></div>
<a name="wp1033781"> </a><div class="pSmartList1"><li>how to compile a COBOL program in preparation for interfacing with an RDBMS</li></div>
<a name="wp1033782"> </a><div class="pSmartList1"><li>how to modify records within the RDBMS database</li></div>
</ul></div>
<a name="wp1033783"> </a><p class="pBody">
The demo program simulates what might be used in a distributor's shipping department.  You'll be creating the acuorders table, which contains information about the orders placed by the distributor's customers.  The acuorders table has the following columns of information (the database data type and COBOL data type are shown for each):
</p>
<a name="wp1033784"> </a><p class="pNote">
<hr />
<b>Note:  </b>The data type may be slightly different depending on the RDBMS.
<hr />
</p>
<a name="wp1033852"> </a><p class="pBodyRelative">
</p><div>
<table border="0" cellpadding="6" cellspacing="1">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp1037020"> </a>
Column Name&#160;&#160;

</th>
    <th><a name="wp1037022"> </a>
Data Type&#160;&#160;

</th>
    <th><a name="wp1037024"> </a>
COBOL PIC

</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033793"> </a><p class="pCellBody">
order_num
</p>
</td>
    <td><a name="wp1033795"> </a><p class="pCellBody">
varchar(4)
</p>
</td>
    <td><a name="wp1033797"> </a><p class="pCellBody">
pic 9(4)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033799"> </a><p class="pCellBody">
order_date
</p>
</td>
    <td><a name="wp1033801"> </a><p class="pCellBody">
int
</p>
</td>
    <td><a name="wp1033803"> </a><p class="pCellBody">
pic 9(6)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033805"> </a><p class="pCellBody">
customer_num
</p>
</td>
    <td><a name="wp1033807"> </a><p class="pCellBody">
varchar(3)
</p>
</td>
    <td><a name="wp1033809"> </a><p class="pCellBody">
pic 9(3)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033811"> </a><p class="pCellBody">
ship_instruct
</p>
</td>
    <td><a name="wp1033813"> </a><p class="pCellBody">
varchar(40)
</p>
</td>
    <td><a name="wp1033815"> </a><p class="pCellBody">
pic x(40)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033817"> </a><p class="pCellBody">
backlog
</p>
</td>
    <td><a name="wp1033819"> </a><p class="pCellBody">
varchar(1)
</p>
</td>
    <td><a name="wp1033821"> </a><p class="pCellBody">
pic x
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033823"> </a><p class="pCellBody">
po_num
</p>
</td>
    <td><a name="wp1033825"> </a><p class="pCellBody">
varchar(10)
</p>
</td>
    <td><a name="wp1033827"> </a><p class="pCellBody">
pic x(10)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033829"> </a><p class="pCellBody">
ship_date
</p>
</td>
    <td><a name="wp1033831"> </a><p class="pCellBody">
int
</p>
</td>
    <td><a name="wp1033833"> </a><p class="pCellBody">
pic 9(6)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033835"> </a><p class="pCellBody">
ship_weight
</p>
</td>
    <td><a name="wp1033837"> </a><p class="pCellBody">
decimal(8,2)&#160;&#160;
</p>
</td>
    <td><a name="wp1033839"> </a><p class="pCellBody">
pic 9(6)v99
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033841"> </a><p class="pCellBody">
ship_charge
</p>
</td>
    <td><a name="wp1033843"> </a><p class="pCellBody">
decimal(6,2)&#160;&#160;
</p>
</td>
    <td><a name="wp1033845"> </a><p class="pCellBody">
pic 9(4)v99
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1033847"> </a><p class="pCellBody">
paid_date
</p>
</td>
    <td><a name="wp1033849"> </a><p class="pCellBody">
int
</p>
</td>
    <td><a name="wp1033851"> </a><p class="pCellBody">
pic 9(6)
</p>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>
<a name="wp1033853"> </a><p class="pBody">
Here is the COBOL FD that matches the acuorders table.  Note that the FD entries must match the names of the RDBMS fields and must match their data types:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
fd  orders.<a name="wp1033854"> </a>
01  order-record.<a name="wp1033855"> </a>
    03  order-num              pic x(4).<a name="wp1033856"> </a>
    03  order-fields.<a name="wp1033857"> </a>
        05  order-date         pic 9(6).<a name="wp1033858"> </a>
        05  customer-num       pic 9(3).<a name="wp1033859"> </a>
        05  ship-instruct      pic x(40).<a name="wp1033860"> </a>
        05  backlog            pic x.<a name="wp1033861"> </a>
        05  po-num             pic x(10).<a name="wp1033862"> </a>
        05  ship-date          pic 9(6).<a name="wp1033863"> </a>
        05  ship-weight        pic 9(6)v99.<a name="wp1033864"> </a>
        05  ship-charge        pic 9(4)v99.<a name="wp1033865"> </a>
        05  paid-date          pic 9(6).<a name="wp1033866"> </a>
</pre></div>
<a name="wp1033867"> </a><p class="pBody">
First we'll compile the demo program.  Then we'll prepare the data, and run the demo.  
</p>
<a name="wp1033868"> </a><h3 class="pHeadingRef">
Compiling the demo program
</h3>
<a name="wp1033871"> </a><p class="pBody">
To compile the demo program for use with the RDBMS data source, enter one of the following commands:  
</p>
<div class="pPreformatted"><pre class="pPreformatted">
ccbl32 -Fx -o demo demo.cbl   <a name="wp1033872"> </a>
</pre></div>
<a name="wp1033873"> </a><p class="pBody">
(for ACUCOBOL-GT® Version 4.2 or later, 32-bit version)
</p>
<div class="pPreformatted"><pre class="pPreformatted">
ccbl -Fx -o demo demo.cbl  <a name="wp1033874"> </a>
</pre></div>
<a name="wp1033875"> </a><p class="pBody">
(for ACUCOBOL-GT Version 4.2 or later, UNIX version)
</p>
<a name="wp1033876"> </a><p class="pBody">
This compiles the program and generates the ACUCOBOL-GT data dictionary &quot;acuorders.xfd&quot;.  The runtime system will use this data dictionary to map RDBMS data types to COBOL data types. 
</p>
<a name="wp1033877"> </a><h3 class="pHeadingRef">
Verifying the runtime
</h3>
<a name="wp1033881"> </a><p class="pBody">
Before starting the demo program, you need to verify the runtime.  To do this, enter the following:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
runcbl -vv  <span style="font-family: Arial, Verdana, Helvetica, sans-serif">or</span> wrun32 -vv<a name="wp1033882"> </a>
</pre></div>
<a name="wp1033883"> </a><p class="pBody">
Be sure that the version information you receive references your Acu4GL product.
</p>
<a name="wp1033884"> </a><h3 class="pHeadingRef">
Starting the demo program 
</h3>
<a name="wp1033889"> </a><p class="pBody">
Be sure the RDBMS data source is available and that all the non-Acu4GL environment variables required for your data source are set.  To run the demo program, you'll need to notify the ACUCOBOL-GT runtime system that you will be interfacing to an RDBMS driver.  You accomplish this by adding the following line to your runtime configuration file or to the machine's environment:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
DEFAULT_HOST <em class="cEmphasis">RDBMS_NAME</em><a name="wp1033890"> </a>
</pre></div>
<a name="wp1033891"> </a><p class="pBody">
If you're running &quot;demo.cbl&quot; from the same directory where you placed the ACUCOBOL-GT data dictionary, you are ready to run.  
</p>
<a name="wp1033892"> </a><p class="pBody">
If the data dictionary (&quot;acuorders.xfd&quot;, created when you compiled the demo program) is in another directory, you will need to add the following line to the &quot;cblconfig&quot; configuration file:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
XFD_PREFIX <em class="cEmphasis">dir-containing-dictionary</em><a name="wp1033893"> </a>
</pre></div>
<a name="wp1033894"> </a><p class="pBody">
Set any environment variables required for your specific Acu4GL product.  See the &quot;Designating the Host Data Source&quot; or &quot;Designating the Host File System&quot; section in the appendix specific to your particular RDBMS.  
</p>
<a name="wp1033895"> </a><p class="pBody">
At this point, you can run the demo program by entering one of the following commands:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
wrun32 -c config demo        <a name="wp1033896"> </a>
</pre></div>
<a name="wp1033897"> </a><p class="pBody">
(for ACUCOBOL-GT Version 5.0 or later, 32-bit Windows runtime)
</p>
<div class="pPreformatted"><pre class="pPreformatted">
runcbl -c config demo    <a name="wp1033898"> </a>
</pre></div>
<a name="wp1033899"> </a><p class="pBody">
(for ACUCOBOL-GT Version 5.0 or later, UNIX runtime)
</p>
<a name="wp1033900"> </a><p class="pBody">
For UNIX versions, you will see a character version of the following screen.  For Window-based versions, this is what you'll see:
</p>
<a name="wp1033901"> </a><p class="pBodyRelative">
</p><div><img src="images/demo.gif" height="216" width="303" border="0" hspace="0" vspace="0"/>
</div><p class="pBodyRelative">
</p>
<a name="wp1035861"> </a><p class="pBody">
The demo program enables you to view or change any of the rows (records) in the orders table.  You can also view the source code for the demo program. 
</p>
<a name="wp1035864"> </a><p class="pBodyRelative">
</p><div><img src="images/record_c.gif" height="108" width="82" border="0" hspace="0" vspace="0"/>
</div><p class="pBodyRelative">
</p>
<a name="wp1035868"> </a><p class="pBody">
The choices under the <em class="cEmphasis">Record</em> menu item offer the following functionality:
</p>
<a name="wp1033908"> </a><h3 class="pHeadingRef">
New
</h3>
<a name="wp1033909"> </a><p class="pBody">
Clear all fields.
</p>
<a name="wp1033910"> </a><h3 class="pHeadingRef">
Delete
</h3>
<a name="wp1033911"> </a><p class="pBody">
Remove the order that is being displayed from the database.  
</p>
<a name="wp1033912"> </a><h3 class="pHeadingRef">
Save
</h3>
<a name="wp1033913"> </a><p class="pBody">
Write (or rewrite) the displayed record.
</p>
<a name="wp1033914"> </a><h3 class="pHeadingRef">
Exit
</h3>
<a name="wp1033915"> </a><p class="pBody">
Exit the demo program and return to the operating system prompt.
</p>
<a name="wp1033916"> </a><p class="pBodyRelative">
</p><div><img src="images/position.gif" height="123" width="88" border="0" hspace="0" vspace="0"/>
</div><p class="pBodyRelative">
</p>
<a name="wp1033920"> </a><p class="pBody">
The choices under the <em class="cEmphasis">Position</em> menu item offer the following functionality:
</p>
<a name="wp1033921"> </a><h3 class="pHeadingRef">
First
</h3>
<a name="wp1033922"> </a><p class="pBody">
View (or modify) the first record in the file. 
</p>
<a name="wp1033923"> </a><h3 class="pHeadingRef">
Next
</h3>
<a name="wp1033924"> </a><p class="pBody">
View (or modify) the next record in sequence.
</p>
<a name="wp1033925"> </a><h3 class="pHeadingRef">
Previous
</h3>
<a name="wp1033926"> </a><p class="pBody">
View (or modify) the previous record in the sequence.
</p>
<a name="wp1033927"> </a><h3 class="pHeadingRef">
Last
</h3>
<a name="wp1033928"> </a><p class="pBody">
View (or modify) the last record in the file.
</p>
<a name="wp1033929"> </a><h3 class="pHeadingRef">
Search
</h3>
<a name="wp1033930"> </a><p class="pBody">
Enter the order number of the order to be viewed.
</p>
<a name="wp1033931"> </a><p class="pBodyRelative">
</p><div><img src="images/options_.gif" height="42" width="109" border="0" hspace="0" vspace="0"/>
</div><p class="pBodyRelative">
</p>
<a name="wp1033935"> </a><p class="pBody">
The choices under the <em class="cEmphasis">Options </em>menu item offer the following functionality:
</p>
<a name="wp1033936"> </a><h3 class="pHeadingRef">
View program
</h3>
<a name="wp1033937"> </a><p class="pBody">
Start the debugger and display source code.  Be sure you compiled the program with &quot;-Zd&quot; and execute it with &quot;-d&quot;.
</p>
<a name="wp1033938"> </a><h3 class="pHeadingRef">
Help
</h3>
<a name="wp1033942"> </a><p class="pBody">
Help brings up a window containing a short description of the demo program.
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com?subject=E-01-UG-060621-Acu4GL-7.2">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
