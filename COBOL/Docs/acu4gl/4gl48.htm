<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.6.1058" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/13/06 09:41:58" />
  <title>4.3.4  DATE</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Acu4GL User's Guide <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="4gl4.htm">Chapter 4:  Using Directives</a> &gt; <a href="4gl44.htm">4.3  Directives Supported by the Acu4GL Interfaces</a> &gt; </p>
<a name="wp1034508"> </a><h2 class="pHeading2">
4.3.4  DATE
</h2>
<a name="wp1034511"> </a><p class="pBody">
The DATE directive's purpose is to store a field in the database as a date.  Because there's no COBOL syntax that identifies a field as a date, you may want to add this directive to differentiate dates from other numbers, so that they enjoy the properties associated with dates in the RDBMS.  See the description of the configuration variable <a  href="4gl84.htm#wp1039309">4GL_2000_CUTOFF</a> to view special options for two-digit dates.
</p>
<a name="wp1034512"> </a><h3 class="pHeadingRef">
Syntax
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
$XFD DATE=date-format-string<a name="wp1034513"> </a>
</pre></div>
<a name="wp1034514"> </a><p class="pBody">
or
</p>
<div class="pPreformatted"><pre class="pPreformatted">
*((XFD DATE=date-format-string))<a name="wp1034515"> </a>
</pre></div>
<a name="wp1034516"> </a><p class="pBody">
This directive implies the NUMERIC directive.
</p>
<a name="wp1034517"> </a><p class="pBody">
If no <em class="cEmphasis">date-format-string</em> is specified, six-digit (or six-character) fields are retrieved as YYMMDD from the database.  Eight-digit fields are retrieved as YYYYMMDD.
</p>
<a name="wp1034518"> </a><p class="pBody">
The <em class="cEmphasis">date-format-string</em> is a description of the desired date format, composed of characters from the following list:
</p>
<a name="wp1034557"> </a><p class="pBody">
</p><div>
<table border="0" cellpadding="6" cellspacing="1">
  <caption></caption>
  <tr align="left" valign="top">    <td><a name="wp1034522"> </a><p class="pCellBody">
<span style="font-family: Arial, Verdana, Helvetica, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; vertical-align: baseline">M</span>
</p>
</td>
    <td><a name="wp1034524"> </a><p class="pCellBody">
Month (01-12)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1034526"> </a><p class="pCellBody">
<b class="cBold">Y</b>
</p>
</td>
    <td><a name="wp1034528"> </a><p class="pCellBody">
Year (2 or 4 digit)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1034530"> </a><p class="pCellBody">
<b class="cBold">D</b>
</p>
</td>
    <td><a name="wp1034532"> </a><p class="pCellBody">
Day of month (01-31)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1034534"> </a><p class="pCellBody">
<b class="cBold">J</b>
</p>
</td>
    <td><a name="wp1034536"> </a><p class="pCellBody">
Julian day (00000000-99999999)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1034538"> </a><p class="pCellBody">
<b class="cBold">E</b>
</p>
</td>
    <td><a name="wp1034540"> </a><p class="pCellBody">
Day of year (001-366)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1034542"> </a><p class="pCellBody">
<b class="cBold">H</b>
</p>
</td>
    <td><a name="wp1034544"> </a><p class="pCellBody">
Hour (00-23)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1034546"> </a><p class="pCellBody">
<b class="cBold">N</b>
</p>
</td>
    <td><a name="wp1034548"> </a><p class="pCellBody">
Minute
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1034550"> </a><p class="pCellBody">
<b class="cBold">S</b>
</p>
</td>
    <td><a name="wp1034552"> </a><p class="pCellBody">
Second
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1034554"> </a><p class="pCellBody">
<b class="cBold">T</b>
</p>
</td>
    <td><a name="wp1034556"> </a><p class="pCellBody">
Hundredths of a second
</p>
</td>
</tr>
</table>
</div>
<p class="pBody">
</p>
<a name="wp1034558"> </a><p class="pBody">
Any other characters cause the date format string to be invalid, and result in a corrupt XFD error or a compile-time warning.
</p>
<a name="wp1034559"> </a><p class="pBody">
Each character in a date format string can be considered a place holder that represents the type of information stored at that location.  The characters also determine how many digits will be used for each type of data.  
</p>
<a name="wp1034560"> </a><p class="pBody">
For example, although you would typically represent the month with two digits, if you specify MMM as part of your date format, the resulting date will use three digits for the month, left-zero-filling the value.  If the month is given as M, the resulting date will use a single digit, and will truncate on the left.
</p>
<a name="wp1034561"> </a><h3 class="pHeadingRef">
Julian dates
</h3>
<a name="wp1034564"> </a><p class="pBody">
Because the definition of Julian day varies, the DATE directive offers a great deal of flexibility for representing Julian dates.  Many source books define the Julian day as the day of the year, with January 1<span style="font-family: Arial, Verdana, Helvetica, sans-serif; vertical-align: super">st</span> being 001, January 2<span style="font-family: Arial, Verdana, Helvetica, sans-serif; vertical-align: super">nd</span> being 002, and so forth.  If you want to use this definition for Julian day, simply use EEE (day of year) in your date formats. 
</p>
<a name="wp1034565"> </a><p class="pBody">
Other reference books define the Julian day as the number of days since some specific base date in the past.  This definition is represented in the DATE directive with the letter J (for example, a six-digit date field would be preceded with the directive $XFD DATE=JJJJJJ).  The default base date for this form of Julian date is 12/31/4714 BC.  
</p>
<a name="wp1034568"> </a><p class="pBody">
You may define your own base date for Julian date calculations by setting the runtime configuration variable <a  href="4gl813.htm#wp1036060">4GL_JULIAN_BASE_DATE</a>.
</p>
<a name="wp1034569"> </a><h3 class="pHeadingRef">
Handling invalid dates
</h3>
<a name="wp1034573"> </a><p class="pBody">
Acu4GL considers dates in the following range to be valid:
</p>
<a name="wp1034574"> </a><p class="pBody">
	01/01/0001 to 12/31/9999
</p>
<a name="wp1034575"> </a><p class="pBody">
If Acu4GL considers a date valid and passes it to an RDBMS that considers it invalid, the results depend on the particular RDBMS.  Some systems return an error code.  Some store the date as NULL and do not return an error.  Some store the date in an unpredictable fashion and do not return an error.  We recommend that you determine the error handling procedures of the RDBMS in use.
</p>
<a name="wp1034576"> </a><p class="pBody">
If a COBOL program attempts to write a record containing a date that Acu4GL knows is invalid, Acu4GL inserts NULLs into the date field and writes the record.
</p>
<a name="wp1034577"> </a><p class="pBody">
If a COBOL program attempts to read into a record from a table with a NULL date field, zeroes are inserted into that field in the COBOL record.
</p>
<a name="wp1034578"> </a><p class="pBody">
For date fields having two-digit years, by default years 0 through 19 are inserted as 2000 through 2019, and years 20 through 99 are inserted as 1920 through 1999.  You can change this behavior by changing the value of the variable <a  href="4gl84.htm#wp1039309">4GL_2000_CUTOFF</a>.  
</p>
<a name="wp1034579"> </a><p class="pNote">
<hr />
<b>Note:  </b>If a field is used as part of a key, the field cannot be a NULL value.  For information about converting date values using the <a  href="4gl88.htm#wp1036019">4GL_CONVERT_DATE_ZERO</a> variable, see section 8.2, &quot;Runtime Configuration Variables.&quot;
<hr />
</p>
<a name="wp1034580"> </a><h3 class="pHeadingRef">
Using group items
</h3>
<a name="wp1034582"> </a><p class="pBody">
You may place the DATE directive in front of a group item, so long as you also use the <a  href="4gl413.htm#wp1034754">USE GROUP</a> directive.
</p>
<a name="wp1034583"> </a><h3 class="pHeadingRef">
Example 1
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
 $xfd date<a name="wp1034584"> </a>
      03  date-hired    pic 9(8).<a name="wp1034585"> </a>
      03  pay-scale     pic x(3).<a name="wp1034586"> </a>
</pre></div>
<a name="wp1034587"> </a><p class="pBody">
The column date-hired will have eight digits and will be type DATE in the database, with a format of YYYYMMDD.  
</p>
<a name="wp1034588"> </a><h3 class="pHeadingRef">
Example 2
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
 *(( XFD DATE, USE GROUP ))<a name="wp1034589"> </a>
      03  date-hired.<a name="wp1034590"> </a>
          05  yyyy      pic 9(4).<a name="wp1034591"> </a>
          05  mm        pic 9(2).<a name="wp1034592"> </a>
          05  dd        pic 9(2).<a name="wp1034593"> </a>
</pre></div>
<a name="wp1034594"> </a><p class="pBody">
This also will produce a column named date-hired with eight digits and type DATE in the database, format YYYYMMDD.  
</p>
<a name="wp1034595"> </a><h3 class="pHeadingRef">
Example 3
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
 *(( XFD DATE=EEEYYYY))<a name="wp1034596"> </a>
      03  date-sold      pic 9(7).<a name="wp1034597"> </a>
      03  sales-rep      pic x(30).<a name="wp1034598"> </a>
</pre></div>
<a name="wp1034599"> </a><p class="pBody">
This will produce a column named date-sold with seven digits and type DATE in the database.  The date will contain the day of the year (for example, February 1<span style="font-family: Arial, Verdana, Helvetica, sans-serif; vertical-align: super">st</span> would be 032), followed by the four-digit year, such as 1999).
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com?subject=E-01-UG-060621-Acu4GL-7.2">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
