<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.6.1058" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="07/13/05 15:20:41" />
  <title>2.4.1  Adding Color </title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT Runtime Manual <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="run2.htm"><br />Chapter 2: Setting Up Your Terminals</a> &gt; <a href="run223.htm">2.4  The Display Interface</a> &gt; </p>
<a name="wp1044061"> </a><h2 class="pHeading2">
2.4.1  Adding Color 
</h2>
<a name="wp1044063"> </a><p class="pBody">
ACUCOBOL-GT allows you to add color, without reprogramming, to programs that were originally written for black-and-white terminals.  You accomplish this by assigning color values to the runtime configuration variable COLOR-MAP.  The COLOR-MAP keyword is followed by one of the following single attributes:
</p>
<a name="wp1044066"> </a><p class="pBody">
High,  Low,  Reverse,  Blink,  Underline,  Default, or Exit; 
</p>
<a name="wp1044067"> </a><p class="pBody">
or by one of the following hyphenated combinations of attributes:
</p>
<a name="wp1044093"> </a><p class="pBodyRelative">
</p><div>
<table border="0" cellpadding="6" cellspacing="1">
  <caption></caption>
  <tr align="left" valign="top">    <td><a name="wp1044070"> </a><p class="pBody">
High-Reverse
</p>
</td>
    <td><a name="wp1044072"> </a><p class="pBody">
Low-Reverse
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1044074"> </a><p class="pBody">
High-Blink
</p>
</td>
    <td><a name="wp1044076"> </a><p class="pBody">
Low-Blink
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1044078"> </a><p class="pBody">
High-Reverse-Blink
</p>
</td>
    <td><a name="wp1044080"> </a><p class="pBody">
Low-Reverse-Blink
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1044082"> </a><p class="pBody">
High-Underline
</p>
</td>
    <td><a name="wp1044084"> </a><p class="pBody">
Low-Underline
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1044086"> </a><p class="pBody">
High-Reverse-Underline
</p>
</td>
    <td><a name="wp1044088"> </a><p class="pBody">
Low-Reverse-Underline
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1044090"> </a><p class="pBody">
Reverse-Blink
</p>
</td>
    <td><a name="wp1044092"> </a><p class="pBody">
Reverse-Underline
</p>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>
<a name="wp1044094"> </a><p class="pBody">
The single attribute, or attribute combination, is then followed by an equals sign and one of the following color names:
</p>
<a name="wp1044095"> </a><p class="pBody">
Black,  Blue,  Green,  Cyan,  Red,  Magenta,  Brown,  White
</p>
<a name="wp1044096"> </a><p class="pBody">
The named color becomes the foreground color that is displayed whenever the corresponding attribute is used in a DISPLAY statement.  For example, if you want fields that are displayed as low-intensity to appear green, use the following configuration file entry: 
</p>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
COLOR-MAP   Low=Green<a name="wp1044097"> </a>
</pre></div>
<a name="wp1044098"> </a><p class="pBody">
You can also assign a background color value.  It follows the foreground color and is separated from it by a comma.  For example, to assign white characters on a blue background for high-intensity fields, you would use the following:
</p>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
COLOR-MAP   High=White,Blue<a name="wp1044099"> </a>
</pre></div>
<a name="wp1044100"> </a><p class="pNote">
<hr />
<b>Note:  </b>No spaces should appear within the assignment. 
<hr />
</p>
<a name="wp1044101"> </a><p class="pBody">
You may specify more than one attribute in a single COLOR-MAP line.  Simply separate the attributes from each other by spaces.  For example:
</p>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
COLOR-MAP  High=Green  Low=Red  Reverse=Blue<a name="wp1044102"> </a>
</pre></div>
<a name="wp1044105"> </a><p class="pBody">
The following points should be noted: 
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1044106"> </a><div class="pSmartList1"><li>The named video attribute is still used by the ACCEPT or DISPLAY.  For example, &quot;Reverse=Blue&quot; will result in a reverse-video blue field while &quot;High=Brown&quot; will use high-intensity brown (on some terminals, specifying High=Brown will cause yellow to be generated by any DISPLAY HIGH phrase). </li></div>
<a name="wp1044107"> </a><div class="pSmartList1"><li>If a particular ACCEPT or DISPLAY statement has a COLOR phrase, that phrase will be used instead of the COLOR-MAP attributes in the runtime configuration file.  Note, however, that the COLOR-MAP <em class="cEmphasis">will</em> apply to fields that use the FCOLOR or BCOLOR options of the CONTROL phrase.  </li></div>
<a name="wp1044108"> </a><div class="pSmartList1"><li>The attributes HIGH, LOW, and REVERSE are treated in a special manner.  If a statement uses more than one of the three, then the attribute/color used will be in this order of preference: </li></div>
<a name="wp1044110"> </a><p class="pIndented1">
1) REVERSE
</p>
<a name="wp1044111"> </a><p class="pIndented1">
2) HIGH
</p>
<a name="wp1044112"> </a><p class="pIndented1">
3) LOW
</p>
<a name="wp1044113"> </a><p class="pIndented1">
For example, a DISPLAY statement specifying both REVERSE and HIGH will use the color associated with REVERSE.  
</p>
<a name="wp1044114"> </a><p class="pIndented1">
Also, any one of these settings is used for all applicable cases, except where specifically overridden by another setting.  For example:
</p>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
COLOR-MAP   REVERSE=Red  LOW-REVERSE=Blue<a name="wp1044115"> </a>
</pre></div>
<a name="wp1044116"> </a><p class="pIndented1">
will use red for all statements that specify REVERSE except for statements that explicitly specify REVERSE,LOW.  
</p>
<a name="wp1044117"> </a><p class="pIndented1">
In all other cases, the configuration file entry must exactly match the COBOL statement.  For example, a configuration file attribute HIGH-REVERSE would not apply to a program statement that included HIGH,REVERSE,UNDERLINE.
</p>
<a name="wp1044118"> </a><p class="pIndented1">
Note that compiler options &quot;-Vl&quot; and &quot;-Vh&quot; cause LOW and HIGH respectively to be implied for program statements; create your COLOR-MAP as though LOW or HIGH were explicitly coded in the program.
</p>
<a name="wp1044119"> </a><div class="pSmartList1"><li>The DEFAULT attribute works a little differently.  It is used to assign the initial default colors for the screen.  Its effect is the same as having a DISPLAY WINDOW COLOR statement as the first statement of your program.</li></div>
<a name="wp1044120"> </a><div class="pSmartList1"><li>The EXIT attribute determines which colors ACUCOBOL-GT will set when it terminates.  These colors are also set when a call is made to the &quot;SYSTEM&quot; library routine.  On some machines these colors are immediately changed by the operating system prompt and thus have no effect.  </li></div>
<a name="wp1044121"> </a><div class="pSmartList1"><li>You can assign values to the color map from within a COBOL program through use of the SET ENVIRONMENT verb.  You can turn off the color map with the following statement: </li></div>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
SET  ENVIRONMENT  &quot;COLOR-MAP&quot;  TO  &quot;OFF&quot;<a name="wp1044124"> </a>
</pre></div>
<a name="wp1044126"> </a><div class="pSmartList1"><li>Note that on a XENIX console, if you use the XENIX command &quot;setcolor&quot; to establish a high-intensity background color, you may get unexpected results from ACUCOBOL-GT.  This is because the implementation of high-intensity background colors causes XENIX to treat the &quot;blink&quot; bit as a background intensity bit instead.  In addition, because ACUCOBOL-GT can select only 8 background colors, all of the background colors used will be high-intensity, including black (which shows up as a light gray).</li></div>
<a name="wp1044127"> </a><p class="pIndented1">
For these reasons, we recommend that you avoid using a high-intensity background color if you are using the XENIX console.  As an alternative, you may create a shell script to run ACUCOBOL-GT.  This script could set a low-intensity background color, run ACUCOBOL-GT, and then reset the desired high-intensity background color.
</p>
</ol></div>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: (800) 262-6585 (U.S.A. and Canada)<br />
         Voice: (858) 689-4500<br />
         Fax: (858) 689-4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
