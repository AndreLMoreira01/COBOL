<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.6.1058" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="07/13/05 15:23:18" />
  <title>9.2  Syntax and Options</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT Runtime Manual <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="run9.htm"><br />Chapter 9: logutil Utility</a> &gt; </p>
<a name="wp1036168"> </a><h2 class="pHeading1">
9.2  Syntax and Options
</h2>
<a name="wp1036721"> </a><p class="pBody">
You can run <b class="cBold">logutil</b> from the operating system command line with the following usage:
</p>
<a name="wp1036169"> </a><h3 class="pHeadingRef">
Syntax
</h3>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
logutil	[ -filv ]  [ -d begin_date  [ end_date ] ]  <a name="wp1036173"> </a>
  [ -t begin_time  [ end_time ] ]  [ -u user ] <a name="wp1036174"> </a>
  [ -r begin_location  [ end_location ] ]  [ -h num ]<a name="wp1036175"> </a>
  [ -e new_log_file_name ]  log_file_name<a name="wp1036176"> </a>
</pre></div>
<a name="wp1036177"> </a><h3 class="pHeadingRef">
Options
</h3>
<a name="wp1036220"> </a><p class="pBodyRelative">
</p><div>
<table border="0" cellpadding="6" cellspacing="1">
  <caption></caption>
  <tr align="left" valign="top">    <td><a name="wp1036181"> </a><p class="pCellBody">
<b class="cBold">-f</b>
</p>
</td>
    <td><a name="wp1036183"> </a><p class="pCellBody">
full listing, lists selection on standard output (implies -i).
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1036185"> </a><p class="pCellBody">
<b class="cBold">-i</b>
</p>
</td>
    <td><a name="wp1036187"> </a><p class="pCellBody">
prints summary information at end of listing.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1036189"> </a><p class="pCellBody">
<b class="cBold">-l</b>
</p>
</td>
    <td><a name="wp1036191"> </a><p class="pCellBody">
report location information.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1036193"> </a><p class="pCellBody">
<b class="cBold">-v</b>
</p>
</td>
    <td><a name="wp1036195"> </a><p class="pCellBody">
verbose option, includes record images (implies -f).
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1036197"> </a><p class="pCellBody">
<b class="cBold">-d</b>
</p>
</td>
    <td><a name="wp1036199"> </a><p class="pCellBody">
limits selection by date.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1036201"> </a><p class="pCellBody">
<b class="cBold">-t</b>
</p>
</td>
    <td><a name="wp1036203"> </a><p class="pCellBody">
limits selection by time.  Uses 24-hour clock.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1036205"> </a><p class="pCellBody">
<b class="cBold">-u</b>
</p>
</td>
    <td><a name="wp1036207"> </a><p class="pCellBody">
selects transactions for a particular user only.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1036209"> </a><p class="pCellBody">
<b class="cBold">-r</b>
</p>
</td>
    <td><a name="wp1036211"> </a><p class="pCellBody">
selects transactions within the two locations you provide
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1036213"> </a><p class="pCellBody">
<b class="cBold">-h</b>
</p>
</td>
    <td><a name="wp1036215"> </a><p class="pCellBody">
num is the frequency with which header lines will be printed.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1036217"> </a><p class="pCellBody">
<b class="cBold">-e</b>
</p>
</td>
    <td><a name="wp1036219"> </a><p class="pCellBody">
extracts selected section into a new log file.
</p>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>
<a name="wp1036221"> </a><p class="pBody">
If you do not specify any options on the command line, <b class="cBold">logutil</b> acts as if &quot;-i&quot; were specified and prints only summary information.
</p>
<a name="wp1036222"> </a><h3 class="pHeadingRef">
-v option
</h3>
<a name="wp1036223"> </a><p class="pBody">
If the &quot;-v&quot; option is used, record images are displayed in a format similar to the following:
</p>
<a name="wp1036224"> </a><p class="pBody">
<b class="cBold">Record Image:</b>
</p>
<div class="pPreformatted"><pre class="pPreformatted">
0015  0001  2ce2  dffc  0000  55dd0000  646f  ...,.....U...do<a name="wp1036225"> </a>
7669  6400  6163  7563  6f62  6f6c      00    vid.acucobol.<a name="wp1036226"> </a>
</pre></div>
<a name="wp1036227"> </a><h3 class="pHeadingRef">
-i option
</h3>
<a name="wp1036228"> </a><p class="pBody">
<b class="cBold">logutil</b> may be used to monitor transaction log activity.  If you run it with only the &quot;-i&quot; option, or with no options, it sends a summary report to standard output.  This report contains statistics, version information, and warning messages.  One or both of the two warning messages below may appear, as shown in the following report:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
<b class="cBold">logutil corruptlog </b><a name="wp1036229"> </a>
Log File                 :   corruptlog<a name="wp1036230"> </a>
WARNING: COMMIT BEGIN WITHOUT MATCHING COMMIT END IN LOG FILE<a name="wp1036231"> </a>
WARNING: START TRANSACTIONS WITHOUT MATCHING ROLLBACKS<a name="wp1036232"> </a>
   OR COMMITS<a name="wp1036233"> </a>
Total Size               :   2366 bytes<a name="wp1036234"> </a>
Number of Records        :   79<a name="wp1036235"> </a>
Mean Record Size         :   29 bytes<a name="wp1036236"> </a>
Number of Transactions   :   17<a name="wp1036237"> </a>
Mean Transaction Size    :   139 bytes<a name="wp1036238"> </a>
Record Version(s)        :   1<a name="wp1036239"> </a>
</pre></div>
<a name="wp1036240"> </a><p class="pBody">
The warning &quot;COMMIT BEGIN WITHOUT MATCHING COMMIT END IN LOG FILE&quot; means that the last record in the log file is not a type CE (Commit End) record.  This means that, during a commit:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1036241"> </a><div class="pSmartList1"><li>the log file was being updated at the time <b class="cBold">logutil</b> was run</li></div>
<a name="wp1036242"> </a><div class="pSmartList1"><li>or a process was killed with an uncatchable signal</li></div>
<a name="wp1036243"> </a><div class="pSmartList1"><li>or a system failure occurred </li></div>
</ul></div>
<a name="wp1036244"> </a><p class="pBody">
In the case of a killed process with an uncatchable signal, or a system failure, the next START TRANSACTION using the corrupted log file will return TRANSACTION-STATUS 12.
</p>
<a name="wp1036245"> </a><p class="pBody">
The warning &quot;2 START TRANSACTIONS WITHOUT MATCHING ROLLBACKS OR COMMITS&quot; means that there are two transactions that have yet to be committed or rolled back.  This could indicate a problem if there are no runtime processes currently using the log file.
</p>
<a name="wp1036246"> </a><h3 class="pHeadingRef">
-d option
</h3>
<a name="wp1036247"> </a><p class="pBody">
The <b class="cBold">logutil</b> utility date filter, &quot;-d&quot; command line option, requires you to specify years in the 4-digit format.  If you enter a year value less than &quot;1900&quot;, <b class="cBold">logutil</b> reports &quot;logutil: use 4 digit year specification&quot;.
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: (800) 262-6585 (U.S.A. and Canada)<br />
         Voice: (858) 689-4500<br />
         Fax: (858) 689-4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
