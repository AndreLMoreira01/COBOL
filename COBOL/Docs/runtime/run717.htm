<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.6.1058" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="07/13/05 15:22:58" />
  <title>7.14  Converting C-ISAM Files</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT Runtime Manual <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="run7.htm"><br />Chapter 7: vutil File Manager</a> &gt; </p>
<a name="wp1038996"> </a><h2 class="pHeading1">
7.14  Converting C-ISAM Files
</h2>
<a name="wp1039001"> </a><p class="pBody">
<b class="cBold">Vutil</b> can convert a C-ISAM® file into a Vision file.  This is useful when you are moving C-ISAM data to an ACUCOBOL-GT application.  The command is:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
vutil  -convert  [ -a ]  [ +c ]  [ -2345 ]  [ -d <em class="cEmphasis">dir </em>]<a name="wp1039002"> </a>
                 [ -f # ]  [ -q ]  [ <em class="cEmphasis">files </em>]<a name="wp1039003"> </a>
</pre></div>
<a name="wp1039004"> </a><p class="pBody">
You need not specify that the file is C-ISAM; <b class="cBold">vutil</b> makes that determination.  
</p>
<a name="wp1039005"> </a><p class="pBody">
The &quot;convert&quot; option starts with the same letter as the &quot;check&quot; option.  You must use at least two letters of the word &quot;convert&quot; in order to specify this option.  If you just use &quot;-c&quot;, <b class="cBold">vutil</b> will assume that you are specifying the &quot;check&quot; option.
</p>
<a name="wp1039006"> </a><p class="pBody">
The &quot;convert&quot; function will take each named <em class="cEmphasis">file</em> and convert it from a C-ISAM file to a corresponding Vision file.  If no <em class="cEmphasis">files</em> are specified, then the standard input is read for a list of files to convert.
</p>
<a name="wp1039007"> </a><p class="pBody">
Each C-ISAM file actually occupies two files: an index file with the extension &quot;.idx&quot; and a data file with the extension &quot;.dat&quot;.  Specify only the <em class="cEmphasis">base name</em> in the list of files (do not include any extension).
</p>
<a name="wp1039008"> </a><p class="pBody">
Specifying &quot;<b class="cBold">+c</b>&quot; causes the resulting records to be compressed.
</p>
<a name="wp1039009"> </a><p class="pBody">
Normally <b class="cBold">vutil</b> warns the user about the impending conversion and asks if the user wants to continue.  The &quot;<b class="cBold">-a</b>&quot; (for &quot;automatic&quot;) option suppresses this warning.  This can be useful when you are calling <b class="cBold">vutil</b> from another program.
</p>
<a name="wp1039010"> </a><p class="pBody">
The &quot;<b class="cBold">-5</b>&quot; option specifies that you want the resulting file to be in Vision Version5.  The &quot;<b class="cBold">-4</b>&quot; option specifies a Vision Version 4 file.  A &quot;-3&quot; means a Version 3 file, and &quot;-2&quot; specifies a Version 2 file.  
</p>
<a name="wp1039011"> </a><p class="pBody">
The &quot;<b class="cBold">-d</b>&quot; option specifies that you want the converted files to be placed in a new directory.  <em class="cEmphasis">Dir</em> should be the name of a directory on the machine other than the directory containing the files to be converted.  The &quot;-d&quot; option implies the &quot;-a&quot; option.
</p>
<a name="wp1039013"> </a><p class="pBody">
The &quot;<b class="cBold">-f #</b>&quot; option sets the compression factor to be used when the file is converted.  This option does not force the use of compression, it merely sets the compression factor if compression is used.  The compression factor, a numeric literal, specifies how much of the space saved by compression is actually to be removed from the record. 
</p>
<a name="wp1039014"> </a><p class="pBody">
The &quot;<b class="cBold">-q</b>&quot; option causes <b class="cBold">vutil</b> to exit (with status 99) if user interaction is required.
</p>
<a name="wp1039015"> </a><p class="pBody">
There are a few types of files that cannot be converted due to restrictions in Vision.  Any of the following properties will cause <b class="cBold">vutil</b> to print a message and leave the file alone:
</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1039016"> </a><div class="pSmartList1"><li>A record size or block size greater than 32 KB.</li></div>
<a name="wp1039017"> </a><div class="pSmartList1"><li>More than 120 keys.</li></div>
<a name="wp1039018"> </a><div class="pSmartList1"><li>An individual key with more than 250 bytes in it.</li></div>
<a name="wp1039019"> </a><div class="pSmartList1"><li>A single key with more than sixteen segments (Vision Version 4) or more than six segments (Vision Version 2 or 3).</li></div>
<a name="wp1039020"> </a><div class="pSmartList1"><li>A primary key that allows duplicates.</li></div>
</ol></div>
<a name="wp1039021"> </a><p class="pBody">
<b class="cBold">vutil</b> makes a copy of the file while it is converting it.  You must have adequate disk space for <b class="cBold">vutil</b> to complete its conversion.  Also, C-ISAM files and Vision files differ in the amount of disk space that they use.  This difference is fairly unpredictable and can vary quite widely.  Sometimes the Vision files are smaller, and sometimes the C-ISAM files are smaller.  You should have some spare disk space when you start converting files to accommodate the potential difference.
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: (800) 262-6585 (U.S.A. and Canada)<br />
         Voice: (858) 689-4500<br />
         Fax: (858) 689-4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
