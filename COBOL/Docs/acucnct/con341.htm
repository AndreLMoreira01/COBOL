<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/12/06 10:52:56" />
  <title>3.6.1  Starting acurcl on a UNIX Server</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       AcuConnect User's Guide <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="con3.htm">Chapter 3:  Distributed Processing: Preparing the Server</a> &gt; <a href="con340.htm">3.6  Starting AcuConnect</a> &gt; </p>
<a name="wp1051268"> </a><h2 class="pHeading2">
3.6.1  Starting acurcl on a UNIX Server
</h2>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1051269"> </a><div class="pSmartList1"><li>Log in as root or superuser. </li></div>
<a name="wp1051270"> </a><div class="pSmartList1"><li>Issue the &quot;acurcl -start&quot; command.  Valid options to &quot;-start&quot; are listed below.  </li></div>
</ol></div>
<a name="wp1051315"> </a><p class="pBody">
  </p><div>
<table border="1" cellpadding="2" cellspacing="2">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp1051274"> </a>
Option

</th>
    <th><a name="wp1051276"> </a>
Description

</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1051278"> </a><p class="pCellBody">
-c
</p>
</td>
    <td><a name="wp1051280"> </a><p class="pCellBody">
Specifies the name and path of the server configuration file.  The &quot;-c&quot; must be followed by a space, and then the path and name of the server configuration file.  When &quot;-c&quot; is not used, <b class="cBold">acurcl</b> looks for the configuration file in its default location: &quot;/etc/acurcl.cfg&quot;.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1053700"> </a><p class="pCellBody">
-d
</p>
</td>
    <td><a name="wp1053702"> </a><p class="pCellBody">
Starts AcuConnect in debug mode on the server machine.  The server runs in the foreground.  Note that you are limited to one UNIX client connection when you use this option.  
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1051282"> </a><p class="pCellBody">
-e
</p>
</td>
    <td><a name="wp1051284"> </a><p class="pCellBody">
Causes error output from <b class="cBold">acurcl</b> to be output to the named file.  The &quot;-e&quot; must be followed by a space and the path and name of the error output file.  If &quot;-e&quot; is not specified, <b class="cBold">acurcl</b> attempts to direct error output to /dev/console.  If /dev/console cannot be opened, <b class="cBold">acurcl</b> attempts to append to a file named &quot;acurcl.err&quot; in the current directory.  If that file doesn't exist, or the file append fails, <b class="cBold">acurcl</b> prints the message &quot;acurcl: can't open error output file&quot; to standard output, and <b class="cBold">acurcl</b> terminates.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1051286"> </a><p class="pCellBody">
-f
</p>
</td>
    <td><a name="wp1051288"> </a><p class="pCellBody">
By default, <b class="cBold">acurcl</b> runs in background.  Use the &quot;-f&quot; option to run <b class="cBold">acurcl</b> in foreground.  When run in foreground, the <b class="cBold">acurcl</b> process traps normal keyboard signals, such as Ctrl+C.  If combined with the &quot;-t&quot; option, the &quot;-f&quot; option causes <b class="cBold">acurcl</b> to display tracing information directly to the screen.  However, if the &quot;-e&quot; switch is used, all messages are placed in the named log file.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1063336"> </a><p class="pCellBody">
-g
</p>
</td>
    <td><a name="wp1063338"> </a><p class="pCellBody">
Causes the file specified by the &quot;-e&quot; option to be compressed using the gzip compression method.  Because the error file name is not modified to reflect the compression, it is recommended that you specify a different file extension (for example, &quot;.gz&quot;) for the error file when you use this option.  To read the file, you must decompress it with gzip.  
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1051290"> </a><p class="pCellBody">
-l
</p>
</td>
    <td><a name="wp1051292"> </a><p class="pCellBody">
Causes a listing of the server configuration file to be printed to standard error output.  This can be helpful when you are debugging problems that may be related to configuration variables.  When this option is combined with the &quot;-e&quot; option, the listing is captured in the error output file.
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1051294"> </a><p class="pCellBody">
-n
</p>
</td>
    <td><a name="wp1051296"> </a><p class="pCellBody">
Assigns a port number to this instance of the <b class="cBold">acurcl</b> program. The &quot;-n&quot; must be followed by a space and then an integer, e.g., &quot;5633&quot;.  It overrides the ACURCL_PORT value set in the server configuration file.  The &quot;-n&quot; option associates a port number with one instance of the <b class="cBold">acurcl</b> daemon.  
</p>
<a name="wp1051301"> </a><p class="pCellBody">
The <b class="cBold">acurcl</b> daemon can work with privileged port numbers (from 0 to 1023), and with non-privileged port numbers (1024 and higher).  Privileged port numbers are useful for external, secure applications.
</p>
<a name="wp1051302"> </a><p class="pCellBody">
Note that if you start <b class="cBold">acurcl</b> on two different ports, you must also specify all start-up arguments, including the configuration file, as in:
</p>
<a name="wp1051303"> </a><p class="pCellBody">
acurcl -start -n 5632 -c c:\etc\config1 [other options] 
</p>
<a name="wp1051304"> </a><p class="pCellBody">
acurcl -start -n 5633 -c c:\etc\config2 [other options]
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1051306"> </a><p class="pCellBody">
-t # 
</p>
</td>
    <td><a name="wp1051308"> </a><p class="pCellBody">
Turns on the tracing function.  When combined with the &quot;-e&quot; option, trace information is placed in the named error file. &quot;#&quot; represents the type of tracing or logging to be performed.  
</p>
<a name="wp1051309"> </a><p class="pCellBody">
&quot;1&quot; provides information about access file match attempts.  The trace information buffer is flushed to the error file when the buffer is filled or <b class="cBold">acurcl</b> terminates.  
</p>
<a name="wp1051310"> </a><p class="pCellBody">
&quot;2&quot; provides information about runtime requests.  The buffer is flushed to the error file when the buffer is filled or <b class="cBold">acurcl</b> terminates.  
</p>
<a name="wp1051311"> </a><p class="pCellBody">
&quot;3&quot; provides the information described for &quot;1&quot; and &quot;2&quot;.
</p>
<a name="wp1051312"> </a><p class="pCellBody">
&quot;5&quot; is equivalent to &quot;1&quot;, but the tracing buffer is flushed to the error file each time an access file match is requested.  (File trace flushing can also be controlled with the FILE_TRACE_FLUSH server configuration variable.)  
</p>
<a name="wp1051313"> </a><p class="pCellBody">
&quot;6&quot; is equivalent to &quot;2&quot;, but the tracing buffer is flushed to the error file each time a runtime is requested.  
</p>
<a name="wp1051314"> </a><p class="pCellBody">
&quot;7&quot; provides the information described for &quot;5&quot; and &quot;6&quot;.  
</p>
</td>
</tr>
</table>
</div>
<p class="pBody">
</p>
<a name="wp1051321"> </a><p class="pBody">
You can stop AcuConnect at any time by issuing the &quot;acurcl -kill&quot; command.  See <a  href="cona8.htm#wp1035080">section A.7, &quot;acurcl -kill,&quot;</a> for a discussion of the &quot;-kill&quot; command options.  
</p>
<a name="wp1074301"> </a><p class="pBody">
AcuConnect returns a status code of &quot;0&quot; after a successful start.  When <b class="cBold">acurcl</b> fails to start, it returns one of the following status codes to the operating system indicating the reason for the failure:</p><div>
<table border="0" cellpadding="6" cellspacing="1">
  <caption></caption>
  <tr align="left" valign="top">    <td><a name="wp1074329"> </a><p class="pCellBody">
1
</p>
</td>
    <td><a name="wp1074331"> </a><p class="pCellBody">
Invalid argument
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1074333"> </a><p class="pCellBody">
2
</p>
</td>
    <td><a name="wp1074335"> </a><p class="pCellBody">
Missing license
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1074337"> </a><p class="pCellBody">
3
</p>
</td>
    <td><a name="wp1074339"> </a><p class="pCellBody">
Expired license
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1074341"> </a><p class="pCellBody">
4
</p>
</td>
    <td><a name="wp1074343"> </a><p class="pCellBody">
Unable to open the error log file
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1074345"> </a><p class="pCellBody">
5
</p>
</td>
    <td><a name="wp1074347"> </a><p class="pCellBody">
Unable to open the configuration file (writable by other than root)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1074349"> </a><p class="pCellBody">
6
</p>
</td>
    <td><a name="wp1074351"> </a><p class="pCellBody">
Unable to open the AcuAccess file (missing or writable by other than root)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1074353"> </a><p class="pCellBody">
7
</p>
</td>
    <td><a name="wp1074355"> </a><p class="pCellBody">
Unable to create a child process
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1074357"> </a><p class="pCellBody">
8
</p>
</td>
    <td><a name="wp1074359"> </a><p class="pCellBody">
Too many servers running
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1074361"> </a><p class="pCellBody">
9
</p>
</td>
    <td><a name="wp1074363"> </a><p class="pCellBody">
Unable to create a socket, because the socket is used by something other than AcuConnect
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1074365"> </a><p class="pCellBody">
10
</p>
</td>
    <td><a name="wp1074367"> </a><p class="pCellBody">
AcuConnect is already running on this port.
</p>
</td>
</tr>
</table>
</div>
<p class="pBody">
</p>
<a name="wp1074312"> </a><p class="pBody">
How you get this status depends on your shell.  When you use the Bourne shell (or a compatible shell), echo $? to see the return status of any program executed from the shell.
</p>
<a name="wp1063472"> </a><h3 class="pHeadingRef">
Setting the user environment in UNIX
</h3>
<a name="wp1063473"> </a><p class="pBody">
With the use of a USE_UNIX_SHELL configuration variable, you can direct AcuConnect to attempt to read your UNIX shell login files when <b class="cBold">acurcl</b> starts a runtime based on the shell named in /etc/passwd.  Setting this variable to &quot;true&quot; means that AcuConnect can start a runtime through your login files and the environment variables you set in these files are therefore available to the runtime.  
</p>
<a name="wp1063474"> </a><p class="pBody">
AcuConnect tries to convince the shell to read the startup files by making the first character of argv[0] = `-', just as login(1) does.  As a result, the following environment variables are set:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1063475"> </a><div class="pSmartList1"><li>HOME (from /etc/passwd)</li></div>
<a name="wp1063476"> </a><div class="pSmartList1"><li>SHELL (from /etc/passwd)</li></div>
<a name="wp1063477"> </a><div class="pSmartList1"><li>PATH /usr/local/bin:/bin:/usr/bin:</li></div>
<a name="wp1063478"> </a><div class="pSmartList1"><li>TERM dumb</li></div>
<a name="wp1063479"> </a><div class="pSmartList1"><li>LOGNAME $USER</li></div>
</ul></div>
<a name="wp1063480"> </a><p class="pBody">
Your startup files may modify these variables or set other variables.  
</p>
<a name="wp1063481"> </a><p class="pBody">
AcuConnect starts the shell as shown:
</p>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
<em class="cEmphasis">shell</em> -c &quot;&#39;runcbl&#39; . . .&quot;<a name="wp1063482"> </a>
</pre></div>
<a name="wp1063483"> </a><p class="pBody">
where <em class="cEmphasis">shell</em> is the user's shell and the ellipsis (&quot;. . .&quot;) designates the position of the arguments that <b class="cBold">acurcl</b> would normally use to start the runtime.  The full path to <b class="cBold">runcbl</b> is also given.  Make sure that the shell used supports the &quot;-c&quot; option and the ability to set argv[0] to &quot;-&quot;.  For example, the following shells can be used: sh, ksh, and bash.  The csh and tcsh shells are not supported.  
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com?subject=E-01-UG-060621-AcuConnect-7.2">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
