<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/14/06 08:24:34" />
  <title>5.9.2  Entry Field: Special Properties</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT User Interface Programming <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="gt25.htm">Chapter 5:  Control Types Reference</a> &gt; <a href="gt2536.htm">5.9  Entry Field</a> &gt; </p>
<a name="wp1160074"> </a><h2 class="pHeading2">
5.9.2  Entry Field: Special Properties
</h2>
<a name="wp1160077"> </a><h5 class="pHeading4">
MAX-TEXT (numeric)   
</h5>
<a name="wp1160078"> </a><p class="pBody">
This property limits the maximum number of characters that can be entered by the user into the field.  This includes any characters generated by entering a return in a multi-line field.  If the user attempts to enter more characters than allowed, the system's bell sounds.  By default, this property is set to the field's SIZE setting (rounded up to the next whole integer) multiplied by the LINES setting (truncated to the next lower integer).  For a single-line field, if you use the default MAX-TEXT and SIZE settings, the user will not be able to enter more characters than the field's VALUE data item can hold.  The default MAX-TEXT setting is made when the control is created.  After that, the setting changes only if you explicitly change it.  
</p>
<a name="wp1160079"> </a><p class="pBody">
If MAX-TEXT is set to zero, then the only limits placed on keyboard input are those imposed by the host system.  
</p>
<a name="wp1160080"> </a><p class="pBody">
To make a single-line entry field that scrolls horizontally, you would typically make the SIZE smaller than the size of the VALUE data item, and then set MAX-TEXT to be the size of the VALUE data item.  See below for an example.
</p>
<a name="wp1160083"> </a><h5 class="pHeading4">
MAX-LINES (numeric)   
</h5>
<a name="wp1160084"> </a><p class="pBody">
This property limits the total number of lines that the user can enter in a multi-line entry field.  If the user tries to enter more lines, a message box displays that informs the user that the box has too many lines.  When it is set to &quot;0&quot; (the default), the MAX-LINES setting is ignored.
</p>
<a name="wp1160087"> </a><h5 class="pHeading4">
CURSOR (numeric)   
</h5>
<a name="wp1160088"> </a><p class="pBody">
This property provides a way to position the cursor within the entry field when the field is activated.  You must use CURSOR in conjunction with NO-AUTOSEL; otherwise the default selection logic will automatically reposition the cursor to the end of the field.  
</p>
<a name="wp1160089"> </a><p class="pNoteList">
<hr />
<b>Note:  </b>When CURSOR equals &quot;0&quot;, the cursor is automatically positioned by the host system.  If CURSOR has a positive value, the cursor is positioned at that character position (starting at &quot;1&quot;).  For example, if you assign CURSOR to &quot;3&quot;, the cursor is placed at the third character (either on the third character or between the second and third characters depending on the appearance of the cursor). 
<hr />
</p>
<a name="wp1160090"> </a><p class="pNoteList">
<hr />
<b>Note:  </b>If you use the CURSOR property in a multiline entry field, it will control the cursor position by counting the characters in the entry field without regard to lines.  Significantly, internal control characters are also counted, which often makes it difficult to use the CURSOR property effectively in a multiline entry field.
<hr />
</p>
<a name="wp1160091"> </a><p class="pBody">
When CURSOR equals &quot;-1&quot;, then all of the text in the entry field is selected and the cursor is positioned to the end of the selection. 
</p>
<a name="wp1160092"> </a><p class="pBody">
Ordinarily, this property is not needed.  However, one example where you might want to use it is in combination with the NOTIFY-CHANGE style.  As the user fills in the field, your program acts on each keystroke.  If you change the value of the field in response, the system returns the cursor to column one of the field.  Use CURSOR to reposition the cursor to the point where the user was typing, or to some other position in the field.  
</p>
<a name="wp1160093"> </a><p class="pNoteList">
<hr />
<b>Note:  </b> If you use the CURSOR property in a Screen Section entry, you should set it to &quot;0&quot; after you use it.  If you leave it at a non-zero value, the cursor will be repositioned to that value each time you DISPLAY that Screen Section item.  
<hr />
</p>
<a name="wp1160096"> </a><h5 class="pHeading4">
CURSOR-COL (numeric)  
</h5>
<a name="wp1160097"> </a><p class="pBody">
This property controls and reports the cursor position in a multiline entry field.  Inquiring on CURSOR-COL returns the column number (starting at 1) of the cursor.  CURSOR-COL is often used interdependently with the CURSOR-ROW property to determine the exact position of the cursor with respect to the lines and columns of a multiline entry field.  For that reason, the two properties are discussed together under the CURSOR-ROW paragraph (below).
</p>
<a name="wp1160100"> </a><h5 class="pHeading4">
CURSOR-ROW (numeric)  
</h5>
<a name="wp1160101"> </a><p class="pBody">
This property controls and reports the cursor position in a multiline entry field.  Inquiring on CURSOR-ROW returns the line number (starting at 1) of the cursor. 
</p>
<a name="wp1160102"> </a><p class="pBody">
Setting CURSOR-ROW alone has no immediate effect.  However, when you set CURSOR-COL, the values of CURSOR-ROW and CURSOR-COL will be taken together to place the cursor at the specified line and column.  Thus you should always set CURSOR-ROW before CURSOR-COL if you want to place the cursor at a particular line and column.
</p>
<a name="wp1160103"> </a><p class="pBody">
If CURSOR-ROW specifies a value =0, then the cursor will be placed at the beginning of the entry field.  If CURSOR-ROW specifies a line number beyond the end of the text, the cursor will be placed at the end of the text.  If CURSOR-ROW is valid and CURSOR-COL specifies a value =0, then the cursor will be placed in column 1 of the specified line.  If CURSOR-ROW is valid and CURSOR-COL specifies a value greater than the number of characters in the line, the cursor will be placed at the end of the text in that line.
</p>
<a name="wp1160104"> </a><p class="pNoteList">
<hr />
<b>Note:  </b> In a single-line entry field, CURSOR-ROW is ignored when set, and it always returns &quot;1&quot; when inquired.  CURSOR-COL behaves identically to the CURSOR property in a single-line entry field.
<hr />
</p>
<a name="wp1160107"> </a><h5 class="pHeading4">
ACTION (numeric)   
</h5>
<a name="wp1160108"> </a><p class="pBody">
When set to a non-zero value, initiates a specific operation in the entry field.  The meaningful values are as follows:
</p>
<a name="wp1160130"> </a><p class="pBodyRelative">
   </p><div>
<table border="0" cellpadding="6" cellspacing="1">
  <caption></caption>
  <tr align="left" valign="top">    <td><a name="wp1160111"> </a><p class="pCellBody">
ACTION-CUT
</p>
</td>
    <td><a name="wp1160113"> </a><p class="pCellBody">
Cuts the current selection to the clipboard
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1160115"> </a><p class="pCellBody">
ACTION-COPY
</p>
</td>
    <td><a name="wp1160117"> </a><p class="pCellBody">
Copies the current selection to the clipboard
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1160119"> </a><p class="pCellBody">
ACTION-PASTE<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
</p>
</td>
    <td><a name="wp1160121"> </a><p class="pCellBody">
Pastes the clipboard contents into the entry field at the cursor location.  If any text is selected, it is replaced by the paste operation.  Text pasted in excess of the field's capacity is truncated.  
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1160123"> </a><p class="pCellBody">
ACTION-DELETE
</p>
</td>
    <td><a name="wp1160125"> </a><p class="pCellBody">
Deletes the current selection
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1160127"> </a><p class="pCellBody">
ACTION-UNDO
</p>
</td>
    <td><a name="wp1160129"> </a><p class="pCellBody">
Undoes the last change
</p>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>
<a name="wp1160131"> </a><p class="pBody">
See the COPY library &quot;acugui.def&quot; for the value names.  Actions are supported only under Windows.  Specifying these actions under other systems has no effect.  Specifying a value other than one listed here has no effect.  
</p>
<a name="wp1160132"> </a><p class="pBody">
See the SET statement for a technique to automate the generation of actions by other screen elements (such as push buttons or menu items).
</p>
<a name="wp1160135"> </a><h5 class="pHeading4">
MIN-VAL (numeric)  
</h5>
<a name="wp1160136"> </a><p class="pBody">
This property sets the lower bound for the range of numeric values the user may enter into the entry field.  The user may enter numeric values between MIN-VAL and MAX-VAL (inclusive).  This property also sets the lower bound for the range of values used by the AUTO-SPIN style.  The value of MIN-VAL must be an integer in the range of -2147483647 to 2147483647.  If both MIN-VAL and MAX-VAL are set to the default (zero), then no range checking is performed.
</p>
<a name="wp1160137"> </a><p class="pBody">
When the user enters a value that is out of range and shifts the input focus away from the text box of the entry field control (i.e, clicks the spinner or attempts to leave the control altogether) , the entry field displays a message box informing the user of the error.  The default error message reads &quot;Please enter a value between <em class="cEmphasis">min-val</em> and <em class="cEmphasis">max-val</em>&quot;.  You can change this with the TEXT configuration variable.  <em class="cEmphasis">(create, modify, inquire)</em>
</p>
<a name="wp1160142"> </a><h5 class="pHeading4">
MAX-VAL  (numeric)  
</h5>
<a name="wp1160143"> </a><p class="pBody">
This property sets the upper bound for the range of numeric values that the user may enter into the entry field.  Along with MIN-VAL, this property is used for range validation; it is also used in conjunction with the AUTO-SPIN style.  See MIN-VAL for additional information.  <em class="cEmphasis">(create, modify, inquire)</em>
</p>
<a name="wp1160146"> </a><h5 class="pHeading4">
SELECTION-TEXT  (alphanumeric)  
</h5>
<a name="wp1160147"> </a><p class="pBody">
This property replaces the text currently selected in the control with the value assigned to SELECTION-TEXT.  If no text is currently selected, the value is inserted at the current cursor location.  When inquired, this property returns the text currently selected, or spaces if nothing is selected.  Note that you can determine the exact text that is selected by using the LENGTH option when inquiring on SELECTION-TEXT.  The following example displays a message box with the currently selected text in quotes:
</p>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
77  SEL-TEXT    PIC X(100).<a name="wp1160148"> </a>
77  SEL-LEN     PIC 9(3).<a name="wp1160149"> </a>
<a name="wp1160150"> </a>
INQUIRE ENTRY-FIELD-1, SELECTION-TEXT IN SEL-TEXT, <a name="wp1160151"> </a>
     LENGTH IN SEL-LEN<a name="wp1160152"> </a>
IF SEL-LEN = ZERO<a name="wp1160153"> </a>
      DISPLAY MESSAGE BOX, &quot;Nothing selected&quot;<a name="wp1160154"> </a>
ELSE<a name="wp1160155"> </a>
      DISPLAY MESSAGE BOX, <a name="wp1160156"> </a>
      QUOTE, SEL-TEXT(1 : SEL-LEN), QUOTE<a name="wp1160157"> </a>
END-IF<a name="wp1160158"> </a>
<a name="wp1160159"> </a>
</pre></div>
<a name="wp1160160"> </a><p class="pBody">
If the selection spans multiple lines, any &quot;soft&quot; returns added internally by the control to manage word-wrapping are omitted from the returned value.  Any &quot;hard&quot; returns (those inserted by the user via the &lt;Enter&gt; or &lt;Return&gt; key) are represented by the two-character sequence h&quot;0D&quot; h&quot;0A&quot; (carriage-return, line-feed).
</p>
<a name="wp1160161"> </a><p class="pNoteList">
<hr />
<b>Note:  </b>You generally should not place SELECTION-TEXT in the Screen Section.  If you do, then every time you do a DISPLAY of that screen item, the current value of SELECTION-TEXT replaces the currently selected text.<em class="cEmphasis">  (create, modify, inquire)</em>
<hr />
</p>
<a name="wp1160164"> </a><h5 class="pHeading4">
AUTO-DECIMAL  (numeric)  
</h5>
<a name="wp1160165"> </a><p class="pBody">
This property enables you to specify a minimum number of digits right of the decimal point required for the automatic termination of the entry field.  When used as a property, the number of decimals should be given like this:
</p>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
AUTO-DECIMAL 2<a name="wp1160166"> </a>
<a name="wp1169936"> </a>
</pre></div>
<a name="wp1160167"> </a><p class="pBody">
This will auto-terminate the entry field once you have entered two decimals.
</p>
<a name="wp1160168"> </a><p class="pBody">
When AUTO-DECIMAL is used as a property, the phrase &quot;AUTO/AUTOTERMINATE&quot; is implied.
</p>
<a name="wp1160171"> </a><p class="pNoteList">
<hr />
<b>Note:  </b>There is a configuration variable AUTO-DECIMAL which, when set to a non-zero value, performs the same function as the AUTO-DECIMAL property. This variable is described in detail in Book 4, Appendix H.
<hr />
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
