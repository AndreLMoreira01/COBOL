<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/14/06 08:25:20" />
  <title>9.8  COLOR_TABLE Settings</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT User Interface Programming <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="gt29.htm">Chapter 9:  Color Mapping </a> &gt; </p>
<a name="wp1026206"> </a><h2 class="pHeading1">
9.8  COLOR_TABLE Settings
</h2>
<a name="wp1026207"> </a><p class="pBody">
The COLOR_TABLE setting describes a set of specific changes to make to your color scheme.  Instead of acting on all the colors uniformly, the COLOR_TABLE causes transformations of individual color combinations.  For example, a COLOR_TABLE entry might cause a red foreground on a black background to be translated to a white foreground on a blue background.     
</p>
<a name="wp1026208"> </a><p class="pBody">
There are four values that need to be set:  the foreground and background colors (assigned numbers from 1 to 8) and the foreground and background intensity (high or low).  These are the basic color values, without any intensity indicator: 
</p>
<a name="wp1028818"> </a><p class="pBody">
   </p><div>
<table border="1" cellpadding="2" cellspacing="2">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp1028860"> </a>
Color

</th>
    <th><a name="wp1028862"> </a>
Color value

</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028864"> </a><p class="pCellBody">
Black
</p>
</td>
    <td><a name="wp1028866"> </a><p class="pCellBody">
1
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028868"> </a><p class="pCellBody">
Blue
</p>
</td>
    <td><a name="wp1028870"> </a><p class="pCellBody">
2
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028872"> </a><p class="pCellBody">
Green
</p>
</td>
    <td><a name="wp1028874"> </a><p class="pCellBody">
3
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028876"> </a><p class="pCellBody">
Cyan
</p>
</td>
    <td><a name="wp1028878"> </a><p class="pCellBody">
4
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028880"> </a><p class="pCellBody">
Red
</p>
</td>
    <td><a name="wp1028882"> </a><p class="pCellBody">
5
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028884"> </a><p class="pCellBody">
Magenta
</p>
</td>
    <td><a name="wp1028886"> </a><p class="pCellBody">
6
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028888"> </a><p class="pCellBody">
Brown
</p>
</td>
    <td><a name="wp1028890"> </a><p class="pCellBody">
7
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028892"> </a><p class="pCellBody">
White
</p>
</td>
    <td><a name="wp1028894"> </a><p class="pCellBody">
8
</p>
</td>
</tr>
</table>
</div>
<p class="pBody">
</p>
<a name="wp1026250"> </a><p class="pBody">
For the color table, we combine intensity and color into a single variable by adding &quot;8&quot; to the color value if high-intensity applies.  These are the possible values for foreground and background <span style="font-family: Arial, Verdana, Helvetica, sans-serif"> </span>settings:
</p>
<a name="wp1026322"> </a><p class="pBody">
 </p><div>
<table border="1" cellpadding="2" cellspacing="2">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp1028933"> </a>
Color

</th>
    <th><a name="wp1028935"> </a>
Color value

</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028937"> </a><p class="pCellBody">
low-intensity Black
</p>
</td>
    <td><a name="wp1028939"> </a><p class="pCellBody">
1
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028941"> </a><p class="pCellBody">
low-intensity Blue
</p>
</td>
    <td><a name="wp1028943"> </a><p class="pCellBody">
2
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028945"> </a><p class="pCellBody">
low-intensity Green
</p>
</td>
    <td><a name="wp1028947"> </a><p class="pCellBody">
3
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028949"> </a><p class="pCellBody">
low-intensity Cyan
</p>
</td>
    <td><a name="wp1028951"> </a><p class="pCellBody">
4
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028953"> </a><p class="pCellBody">
low-intensity Red
</p>
</td>
    <td><a name="wp1028955"> </a><p class="pCellBody">
5
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028957"> </a><p class="pCellBody">
low-intensity Magenta
</p>
</td>
    <td><a name="wp1028959"> </a><p class="pCellBody">
6
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028961"> </a><p class="pCellBody">
low-intensity Brown
</p>
</td>
    <td><a name="wp1028963"> </a><p class="pCellBody">
7
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028965"> </a><p class="pCellBody">
low-intensity White
</p>
</td>
    <td><a name="wp1028967"> </a><p class="pCellBody">
8
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028969"> </a><p class="pCellBody">
high-intensity Black
</p>
</td>
    <td><a name="wp1028971"> </a><p class="pCellBody">
9
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028973"> </a><p class="pCellBody">
high-intensity Blue
</p>
</td>
    <td><a name="wp1028975"> </a><p class="pCellBody">
10
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028977"> </a><p class="pCellBody">
high-intensity Green
</p>
</td>
    <td><a name="wp1028979"> </a><p class="pCellBody">
11
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028981"> </a><p class="pCellBody">
high-intensity Cyan
</p>
</td>
    <td><a name="wp1028983"> </a><p class="pCellBody">
12
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028985"> </a><p class="pCellBody">
high-intensity Red
</p>
</td>
    <td><a name="wp1028987"> </a><p class="pCellBody">
13
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028989"> </a><p class="pCellBody">
high-intensity Magenta
</p>
</td>
    <td><a name="wp1028991"> </a><p class="pCellBody">
14
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028993"> </a><p class="pCellBody">
high-intensity Brown
</p>
</td>
    <td><a name="wp1028995"> </a><p class="pCellBody">
15
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1028997"> </a><p class="pCellBody">
high-intensity White
</p>
</td>
    <td><a name="wp1028999"> </a><p class="pCellBody">
16
</p>
</td>
</tr>
</table>
</div>
<p class="pBody">
</p>
<a name="wp1026323"> </a><p class="pBody">
*With this numbering scheme, you use the COLOR_TABLE variable (or COBOL code) to build a two-dimensional table for background and foreground colors.  For example:
</p>
<a name="wp1026325"> </a><p class="pBody">
   </p><div>
<table border="1" cellpadding="2" cellspacing="2">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp1032048"> </a>
<br />Back

</th>
    <th><a name="wp1032050"> </a>
<br />Fore

</th>
    <th><a name="wp1032052"> </a>
1<br />(low Black)

</th>
    <th><a name="wp1032054"> </a>
2<br />(low Blue)

</th>
    <th><a name="wp1032056"> </a>
3<br />(low Green)

</th>
    <th><a name="wp1032058"> </a>
4<br />(low Cyan)

</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032060"> </a><p class="pCellBody">
1
</p>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032062"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032064"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032066"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032068"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032070"> </a>
</pre></div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032072"> </a><p class="pCellBody">
2
</p>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032074"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032076"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032078"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032080"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032082"> </a>
</pre></div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032084"> </a><p class="pCellBody">
3
</p>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032086"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032088"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032090"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032092"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032094"> </a>
</pre></div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032096"> </a><p class="pCellBody">
4
</p>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032098"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032100"> </a>
</pre></div>
</td>
    <td><a name="wp1032102"> </a><p class="pCellBody">
3, 6
</p>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032104"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032106"> </a>
</pre></div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032108"> </a><p class="pCellBody">
<b class="cBold">.</b>
</p>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032110"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032112"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032114"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032116"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032118"> </a>
</pre></div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032120"> </a><p class="pCellBody">
<b class="cBold">.</b>
</p>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032122"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032124"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032126"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
    <a name="wp1032128"> </a>
</pre></div>
</td>
    <td><div class="pPreformatted"><pre class="pPreformatted">
      <a name="wp1032130"> </a>
</pre></div>
</td>
</tr>
</table>
</div>
<p class="pBody">
</p>
<a name="wp1026412"> </a><p class="pBody">
The table maps the colors specified by your program into the actual colors that will appear on the screen.  It tells the runtime which colors to use when the program specifies a particular background-foreground combination.  
</p>
<a name="wp1026413"> </a><p class="pBody">
For example, if the table carried the equivalent of &quot;3, 6&quot; in row 4, column 2, this would mean that a low-intensity Cyan background (row 4) with a low-intensity Blue foreground (column 2) should be mapped to a background of low-intensity Green (3) with a foreground of low-intensity Magenta (6).  The value found in each cell in the table represents the final colors to be used.  
</p>
<a name="wp1026414"> </a><p class="pBody">
The values in the table are not actually stored as numbered pairs.  They are stored as 8-bit numbers, as described later in this section. 
</p>
<a name="wp1026415"> </a><p class="pBody">
Initially, the table is arranged so that no transformations take place.  You use the configuration setting COLOR_TABLE to change entries in the table.  
</p>
<a name="wp1026416"> </a><p class="pBody">
Follow the word &quot;COLOR_TABLE&quot; with the original foreground and background numbers, separated by a comma.  Follow these by an equals sign, and then the new foreground and background numbers, again separated by a comma.  
</p>
<a name="wp1026417"> </a><p class="pBody">
For example, to transform the color combination of foreground 5 on background 2 to foreground 13 on background 2, you would use:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
COLOR_TABLE   5, 2 = 13, 2<a name="wp1026418"> </a>
</pre></div>
<a name="wp1032977"> </a><p class="pBody">
The color table may also be accessed directly by a COBOL program.  It has the following definition:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
01 w-default-COLOR-TABLE is external.<a name="wp1032978"> </a>
    03  occurs 16 times <a name="wp1032979"> </a>
        indexed by background-color.<a name="wp1030399"> </a>
        05  final-color occurs 16 times<a name="wp1030401"> </a>
            indexed by foreground-color<a name="wp1030403"> </a>
            pic x comp-x.<a name="wp1030405"> </a>
</pre></div>
<a name="wp1026421"> </a><p class="pBody">
Each table value is an 8-bit number where the low-order four bits indicate the desired foreground color and the high-order four bits are the background color.  Because four bits result in a range of &quot;0&quot; to &quot;15&quot;, the colors are stored as one less than their actual value of &quot;1&quot; to &quot;16&quot;.  Mathematically, the colors are determined by:
</p>
<a name="wp1026422"> </a><p class="pBody">
Foreground = N(mod 16) + 1
</p>
<a name="wp1026423"> </a><p class="pBody">
Background = (N/16) + 1
</p>
<a name="wp1026424"> </a><p class="pBody">
where &quot;N&quot; is the 8-bit value found in the table.  
</p>
<a name="wp1026425"> </a><p class="pBody">
For example, suppose we wanted to transform a background color of 5 and a foreground color of 14 to be the colors represented by the variables &quot;back&quot; and &quot;fore&quot;.  The following COMPUTE statement does this, and can serve as a template when you want to accomplish a similar color transformation:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
compute final-color(5, 14) = <a name="wp1026426"> </a>
   (back - 1) * 16 + (fore - 1).<a name="wp1030407"> </a>
</pre></div>
<a name="wp1026427"> </a><p class="pBody">
If you want to access the color table directly in your code, simply substitute your variable names and color numbers in the sample code shown above.
</p>
<a name="wp1026429"> </a><p class="pBody">
You can also make COLOR_TABLE settings from inside of COBOL by using SET ENVIRONMENT.  Using the external table allows you to inquire about current COLOR_TABLE values and allows you to quickly change several values at once (for example, by processing an entire row in a loop).
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
