<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/14/06 08:22:06" />
  <title>5.1.9  Compiler File Options </title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT User's Guide <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="gt15.htm"><br />Chapter 5:  File Processing</a> &gt; <a href="gt152.htm">5.1 Transaction Management</a> &gt; </p>
<a name="wp1032375"> </a><h2 class="pHeading2">
5.1.9  Compiler File Options 
</h2>
<a name="wp1032378"> </a><p class="pBody">
There are three compiler options that can simplify the addition of transaction management facilities to existing programs that use the Vision file system.  The &quot;-Ft&quot; option causes implied transactions for every OPEN, CLOSE, WRITE, REWRITE, or DELETE operation that is not part of an explicit transaction.  In other words, single file operations that are not part of a transaction are preceded by an implied START TRANSACTION and followed by an implied COMMIT.  This makes it easier to convert existing applications to a transaction system.
</p>
<a name="wp1032379"> </a><p class="pBody">
The &quot;-Fs&quot; option causes an implied START TRANSACTION verb before the first OPEN, CLOSE, WRITE, REWRITE, or DELETE operation and after each COMMIT or ROLLBACK.  This, in effect, makes every file operation part of a transaction.  If this option is enabled, and the compiler encounters a START TRANSACTION verb, it reports a warning and does not generate any code for the START TRANSACTION.  The &quot;-Fs&quot; option provides an alternate way to program transactions and is often useful when you are converting from other COBOL or SQL implementations.
</p>
<a name="wp1032380"> </a><p class="pBody">
A third compiler file option, &quot;-Fl&quot;, enables single locking rules rather than multiple locking rules as the lock mode default. Normally, &quot;WITH ROLLBACK&quot; causes multiple locking rules to be in effect for a file.  When &quot;-Fl&quot; is used, the &quot;WITH ROLLBACK&quot; clause does not affect whether single or multiple record locking rules are followed.  Single locking becomes the default.  You may enable multiple locking either by specifying &quot;WITH LOCK ON MULTIPLE RECORDS&quot; in a file's SELECT statement or by using &quot;APPLY LOCK-HOLDING ON <em class="cEmphasis">file</em>&quot; in the I-O CONTROL paragraph. 
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
