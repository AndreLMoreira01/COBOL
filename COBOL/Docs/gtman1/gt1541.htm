<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/14/06 08:22:06" />
  <title>5.3.3.4  Date directive</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT User's Guide <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="gt15.htm"><br />Chapter 5:  File Processing</a> &gt; <a href="gt1521.htm">5.3  XFD Files</a> &gt; <a href="gt1537.htm">5.3.3  Syntax</a> &gt; </p>
<a name="wp1032710"> </a><h2 class="pHeading3">
5.3.3.4  Date directive
</h2>
<a name="wp1032712"> </a><p class="pBody">
The DATE directive instructs the runtime to store a field in the database as a date.  Because there's no COBOL syntax that identifies a field as a date, you may want to add this directive to differentiate dates from other numbers, so that they enjoy the properties associated with dates in the RDBMS.  Note that Acucorp's record editor, <b class="cBold">alfred</b>, does not validate the data you enter into date fields.
</p>
<a name="wp1032713"> </a><h3 class="pHeadingRef">
Syntax
</h3>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
$XFD DATE=date-format-string<a name="wp1032714"> </a>
</pre></div>
<a name="wp1032715"> </a><p class="pBody">
or
</p>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
*(( XFD DATE=date-format-string ))<a name="wp1032716"> </a>
</pre></div>
<a name="wp1032717"> </a><p class="pBody">
The <em class="cEmphasis">date-format-string</em> is a description of the desired date format in the COBOL program, composed of characters from the following list:
</p>
<a name="wp1032756"> </a><p class="pBodyRelative">
</p><div>
<table border="0" cellpadding="6" cellspacing="1">
  <caption></caption>
  <tr align="left" valign="top">    <td><a name="wp1032721"> </a><p class="pCellBody">
M
</p>
</td>
    <td><a name="wp1032723"> </a><p class="pCellBody">
month (01 - 12)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032725"> </a><p class="pCellBody">
Y
</p>
</td>
    <td><a name="wp1032727"> </a><p class="pCellBody">
year (2 or 4-digit)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032729"> </a><p class="pCellBody">
D
</p>
</td>
    <td><a name="wp1032731"> </a><p class="pCellBody">
day of month (01 - 31)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032733"> </a><p class="pCellBody">
J
</p>
</td>
    <td><a name="wp1032735"> </a><p class="pCellBody">
Julian day (00000000 - 99999999)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032737"> </a><p class="pCellBody">
E
</p>
</td>
    <td><a name="wp1032739"> </a><p class="pCellBody">
day of year (001 - 366)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032741"> </a><p class="pCellBody">
H
</p>
</td>
    <td><a name="wp1032743"> </a><p class="pCellBody">
hour (00 - 23)
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032745"> </a><p class="pCellBody">
N
</p>
</td>
    <td><a name="wp1032747"> </a><p class="pCellBody">
minute
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032749"> </a><p class="pCellBody">
S
</p>
</td>
    <td><a name="wp1032751"> </a><p class="pCellBody">
second
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1032753"> </a><p class="pCellBody">
T
</p>
</td>
    <td><a name="wp1032755"> </a><p class="pCellBody">
hundredths of a second
</p>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>
<a name="wp1032757"> </a><p class="pBody">
Any other characters cause the date format string to be invalid, and result in a &quot;corrupt XFD&quot; error or a compile-time warning.
</p>
<a name="wp1032758"> </a><p class="pBody">
Each character in a date format string can be considered a place holder that represents the type of information stored at that location.  The characters also determine how many digits will be used for each type of data.  
</p>
<a name="wp1032759"> </a><p class="pBody">
For example, although you would typically represent the month with two digits, if you specify MMM as part of your date format, the resulting date will use three digits for the month, left-zero-filling the value.  If the month is given as M, the resulting date will use a single digit, and will truncate on the left.
</p>
<a name="wp1032760"> </a><p class="pBody">
If you do not specify a date-format-string, the default is YYMMDD if the field has six digits, or YYYYMMDD if the field has eight digits. 
</p>
<a name="wp1032761"> </a><h3 class="pHeadingRef">
Julian dates
</h3>
<a name="wp1032762"> </a><p class="pBody">
Because the definition of Julian day varies, the DATE directive offers a great deal of flexibility for representing Julian dates.  Many source books define the Julian day as the day of the year, with January 1st being 001, January 2nd being 002, and so forth.  If you want to use this definition for Julian day, simply use EEE (day of year) in your date formats. 
</p>
<a name="wp1032763"> </a><p class="pBody">
Other reference books define the Julian day as the number of days since some specific &quot;base date&quot; in the past.  This definition is represented in the DATE directive with the letter J (for example, a six-digit date field would be preceded with the directive &quot;$XFD DATE=JJJJJJ&quot;).   The default &quot;base date&quot; for this form of Julian date is 12/31/4714 BC.  
</p>
<a name="wp1032764"> </a><p class="pBody">
You may define your own base date for Julian date calculations by setting the runtime configuration variable &quot;4GL-JULIAN-BASE-DATE.&quot;  The value of this variable must have the format &quot;YYYYMMDD&quot;.  See the Acu4GL <em class="cEmphasis">User's Guide</em> for more information.
</p>
<a name="wp1032765"> </a><h3 class="pHeadingRef">
Using group items
</h3>
<a name="wp1032766"> </a><p class="pBody">
You may place the DATE directive in front of a group item, so long as you also use the USE GROUP directive (see Example 2 below).
</p>
<a name="wp1032767"> </a><h3 class="pHeadingRef">
Example 1
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
$xfd date<a name="wp1032768"> </a>
    03 date-hired     pic 9(8).<a name="wp1032769"> </a>
    03 pay-scale      pic x(3).<a name="wp1032770"> </a>
</pre></div>
<a name="wp1032771"> </a><p class="pBody">
The column date_hired will have eight digits and will be type DATE in the database, with a format of YYYYMMDD.  
</p>
<a name="wp1032772"> </a><h3 class="pHeadingRef">
Example 2
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
*(( XFD DATE, USE GROUP ))<a name="wp1032773"> </a>
    03  date-hired.<a name="wp1032774"> </a>
      05   yyyy    pic 9(4).<a name="wp1032775"> </a>
      05   mm      pic 9(2).<a name="wp1032776"> </a>
      05   dd      pic 9(2).<a name="wp1032777"> </a>
</pre></div>
<a name="wp1032778"> </a><p class="pBody">
This also will produce a column named date_hired with eight digits and type DATE in the database, format YYYYMMDD.  
</p>
<a name="wp1032779"> </a><h3 class="pHeadingRef">
Example 3
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
*(( XFD DATE=EEEYYYY))<a name="wp1032780"> </a>
    03  date-sold      pic 9(7).<a name="wp1032781"> </a>
    03  sales-rep      pic x(30).<a name="wp1032782"> </a>
</pre></div>
<a name="wp1032783"> </a><p class="pBody">
This will produce a column named date_sold with seven digits and type DATE in the database.  The date will contain the day of the year (for example, February 1st would be 032), followed by the four-digit year, such as 1999).
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
