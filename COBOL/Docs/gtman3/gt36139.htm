<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/14/06 08:28:08" />
  <title>START Statement</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT Reference Manual <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="gt36.htm"><br />Chapter 6:  Procedure Division</a> &gt; <a href="gt3678.htm">6.6  Procedure Division Statements </a> &gt; </p>
<a name="wp1042161"> </a><h2 class="pHeading2">
START Statement
</h2>
<a name="wp1042163"> </a><p class="pBody">
The Format 1 START statement modifies the current file position for a relative or indexed file. It defines a beginning point for retrieval of records from a file.
</p>
<a name="wp1042165"> </a><p class="pBody">
The Format 2 START statement identifies the beginning of a transaction. 
</p>
<a name="wp1042167"> </a><h3 class="pHeadingRef">
General Format
</h3>
<a name="wp1042168"> </a><h3 class="pHeadingRef">
Format 1
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
<u class="cUnderline">START</u> file-name <a name="wp1042169"> </a>
<a name="wp1124731"> </a>
[<u class="cUnderline">KEY</u> IS { <u class="cUnderline">EQUAL</u> TO                 } key-name ]<a name="wp1042170"> </a>
[       { =                        }          ]<a name="wp1042171"> </a>
[       { <u class="cUnderline">GREATER</u> THAN             }          ]<a name="wp1042172"> </a>
[       { &gt;                        }          ]<a name="wp1042173"> </a>
[       { <u class="cUnderline">NOT</u> <u class="cUnderline">LESS</u> THAN            }          ]<a name="wp1042174"> </a>
[       { <u class="cUnderline">NOT</u> &lt;                    }          ]<a name="wp1042175"> </a>
[       { <u class="cUnderline">GREATER</u> THAN <u class="cUnderline">OR</u> <u class="cUnderline">EQUAL</u> TO }          ]<a name="wp1042176"> </a>
[       { &gt;=                       }          ]<a name="wp1042177"> </a>
[       { <u class="cUnderline">LESS</u> THAN                }          ]<a name="wp1042178"> </a>
[       { &lt;                        }          ]<a name="wp1042179"> </a>
[       { <u class="cUnderline">NOT</u> <u class="cUnderline">GREATER</u> THAN         }          ]<a name="wp1042180"> </a>
[       { <u class="cUnderline">NOT</u> &gt;                    }          ]<a name="wp1042181"> </a>
[       { &lt;=                       }          ]<a name="wp1042182"> </a>
[       { <u class="cUnderline">LESS</u> THAN <u class="cUnderline">OR</u> <u class="cUnderline">EQUAL</u> TO    }          ]<a name="wp1042183"> </a>
<a name="wp1042184"> </a>
[ <u class="cUnderline">WITH</u> <u class="cUnderline">SIZE</u> key-size ]<a name="wp1042185"> </a>
<a name="wp1042186"> </a>
[ <u class="cUnderline">INVALID</u> KEY statement-1 ]<a name="wp1042187"> </a>
<a name="wp1042188"> </a>
[ <u class="cUnderline">NOT</u> <u class="cUnderline">INVALID</u> KEY statement-2 ]<a name="wp1042189"> </a>
<a name="wp1042190"> </a>
[ <u class="cUnderline">END-START</u> ]<a name="wp1042191"> </a>
</pre></div>
<a name="wp1042192"> </a><h3 class="pHeadingRef">
Format 2
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
<u class="cUnderline">START</u> <u class="cUnderline">TRANSACTION</u><a name="wp1042193"> </a>
</pre></div>
<a name="wp1042195"> </a><h3 class="pHeadingRef">
Syntax Rules
</h3>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1042197"> </a><div class="pSmartList1"><li><em class="cEmphasis">File-name</em> is the name of a relative or indexed file with sequential or dynamic access mode.  </li></div>
<a name="wp1042198"> </a><div class="pSmartList1"><li>For a relative file, <em class="cEmphasis">key-name</em> is the name of the RELATIVE KEY for the file.  For an indexed file, <em class="cEmphasis">key-name</em> must either be the name of one of the file's record keys or the name of a data item that starts at the beginning of one of the file's record keys and is not longer than that key.  </li></div>
<a name="wp1042199"> </a><div class="pSmartList1"><li><em class="cEmphasis">Statement-1</em> and <em class="cEmphasis">statement-2</em> are imperative statements.</li></div>
<a name="wp1042200"> </a><div class="pSmartList1"><li><em class="cEmphasis">Key-size</em> is a numeric literal or data item that specifies the maximum number of characters of the key to be examined when setting the new current file position.  With this phrase, the program uses only the first &quot;n&quot; characters of the key to find a matching record.  If &quot;n&quot; is zero or greater than the key size, then the entire key is used.  If &quot;n&quot; is less than zero, the results are undefined.</li></div>
<a name="wp1042201"> </a><div class="pSmartList1"><li>START and TRANSACTION are required words.</li></div>
</ol></div>
<a name="wp1042203"> </a><h3 class="pHeadingRef">
General Rules
</h3>
<a name="wp1042204"> </a><h3 class="pHeadingRef">
Format 1
</h3>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1042206"> </a><div class="pSmartList1"><li>The START statement changes the current file position for a file in sequential or dynamic access mode.  This allows a subsequent READ NEXT or READ PREVIOUS statement to access a different record. </li></div>
<a name="wp1042209"> </a><div class="pSmartList1"><li><em class="cEmphasis">File-name</em> must be open in INPUT or I-O mode when the START statement executes.</li></div>
<a name="wp1042210"> </a><div class="pSmartList1"><li>If the KEY phrase is missing, the implied operation is EQUAL and the implied <em class="cEmphasis">key-name</em> is the primary record key for the file (or the RELATIVE KEY for relative files).</li></div>
<a name="wp1042211"> </a><div class="pSmartList1"><li>The START statement changes the current file position and updates the FILE STATUS data item for <em class="cEmphasis">file-name</em>.  It does not modify the record area for <em class="cEmphasis">file-name</em>.  </li></div>
<a name="wp1042212"> </a><div class="pSmartList1"><li>The comparison specified by the KEY phrase occurs between the contents of <em class="cEmphasis">key-name</em> and the records in the file.  The current file position is set according to the following rules:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp1042213"> </a><div class="pSmartList2"><li>For EQUAL, &quot;=&quot;, NOT LESS, NOT &quot;&lt;&quot;, GREATER OR EQUAL, &quot;&gt;=&quot;, GREATER, and &quot;&gt;&quot;, the current file position is set to the record with the <em class="cEmphasis">smallest</em> key that satisfies the given condition.  </li></div>
<a name="wp1042214"> </a><div class="pSmartList2"><li>For LESS, &quot;&lt;&quot;, NOT GREATER, NOT &quot;&gt;&quot;, LESS OR EQUAL, and &quot;&lt;=&quot;, the current file position is set to the record with the <em class="cEmphasis">largest</em> key that satisfies the given condition.</li></div>
</ol></div>
<a name="wp1042215"> </a><div class="pSmartList1"><li>For relative files, the comparison uses the relative record numbers of the records in the file and the current value of the RELATIVE KEY data item. </li></div>
<a name="wp1042217"> </a><div class="pSmartList1"><li>For indexed files, the comparison uses the current value of <em class="cEmphasis">key-name</em> and the values of the corresponding data area for the records in the file. </li></div>
<a name="wp1042219"> </a><div class="pSmartList1"><li>If no record is found that satisfies the comparison:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp1042220"> </a><div class="pSmartList2"><li>The invalid key condition exists.</li></div>
<a name="wp1042221"> </a><div class="pSmartList2"><li>The START statement is unsuccessful.</li></div>
<a name="wp1042222"> </a><div class="pSmartList2"><li>The current file position is undefined.</li></div>
</ol></div>
<a name="wp1042223"> </a><div class="pSmartList1"><li>If the invalid-key condition exists, then one of the following actions occurs:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp1042224"> </a><div class="pSmartList2"><li>If the INVALID KEY phrase is specified, <em class="cEmphasis">statement-1</em> executes.</li></div>
<a name="wp1042225"> </a><div class="pSmartList2"><li>Otherwise, if an appropriate USE AFTER EXCEPTION procedure exists, it is executed.</li></div>
<a name="wp1042226"> </a><div class="pSmartList2"><li>Otherwise, a message is printed and the program halts.</li></div>
</ol></div>
<a name="wp1042228"> </a><div class="pSmartList1"><li>If the NOT INVALID KEY phrase is specified and the START statement is successful, <em class="cEmphasis">statement-2</em> executes.  </li></div>
<a name="wp1042229"> </a><div class="pSmartList1"><li>If the START statement is not successful, the current file position and the current Key of Reference are undefined.  </li></div>
</ol></div>
<a name="wp1042230"> </a><p class="pNote">
<hr />
<b>Note:  </b>The ability to START LESS, &quot;&lt;&quot;, NOT GREATER, NOT &quot;&gt;&quot;, LESS OR EQUAL, or &quot;&lt;=&quot; is dependent on the host file system.  Some file systems cannot process records in reverse order.  These KEY phrases are all used to initiate reverse processing.  If you execute one of these START statements on a machine that does not support READ PREVIOUS, you will get a file error &quot;9B&quot;.  You can test whether or not a machine has the ability to process files in this manner with the ACCEPT FROM SYSTEM-INFO verb.  For details, the entry in this section for the <a  href="gt3679.htm#wp1035747">ACCEPT Statement</a>. 
<hr />
</p>
<a name="wp1042232"> </a><h3 class="pHeadingRef">
Format 2
</h3>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1042233"> </a><div class="pSmartList1"><li>The START TRANSACTION statement identifies the beginning of a transaction.  The following rules describe how transaction management operates with Vision and relative files.  For other file systems linked with the runtime, each system's native mechanism for transaction management is invoked.  See the Acucorp interface document for the specific file system for more details. </li></div>
<a name="wp1042236"> </a><div class="pSmartList1"><li>The first START TRANSACTION in a program attempts to open the log file for appending.  If the log file does not exist, it is created.  START TRANSACTION locks the log file, checks its integrity, then writes a START TRANSACTION notation to the log file and unlocks it.  </li></div>
<a name="wp1042237"> </a><div class="pSmartList1"><li>After the START TRANSACTION, each Vision or relative file update operation is recorded until the next COMMIT or ROLLBACK.  At that point, the record of changes is either written to the log file (COMMIT) or discarded (ROLLBACK).</li></div>
<a name="wp1042238"> </a><div class="pSmartList1"><li>If you compile with the &quot;-Fs&quot; option, an implied START TRANSACTION is in effect.  Therefore, if you use this option, and then issue a START TRANSACTION, the compiler will report an error. </li></div>
</ol></div>
<a name="wp1042241"> </a><p class="pBody">
For more information on transaction management, see Chapter&#160;5 of the <em class="cEmphasis">User's Guide.</em>
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
