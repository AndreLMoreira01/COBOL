<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/15/06 14:43:09" />
  <title>C.3  Changes Affecting Version 6.2</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT Appendices <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="gt4c.htm">Appendix C:  Changes Affecting Previous Versions</a> &gt; </p>
<a name="wp1043142"> </a><h2 class="pHeading1">
C.3  Changes Affecting Version 6.2
</h2>
<a name="wp1044242"> </a><p class="pBody">
The following sections describe changes that can affect programs originally written with ACUCOBOL-GT Version 6.2.
</p>
<a name="wp1045749"> </a><h3 class="pHeadingRef">
UNIX: New default installation directory 
</h3>
<a name="wp1045750"> </a><p class="pBody">
On UNIX systems, the ACUCOBOL-GT development system (compiler, runtime, utilities, etc.) has a new default directory location.  The new location is: &quot;/opt/acucorp/720&quot;.  This change has been made to conform with the Version 2.3 Filesystem Hierarchy Standard (FHS).  Installing into the FHS standard location provides consistency and improves system integration.  For more information about the FHS standard, please visit &quot;www.pathname.com/fhs/pub/fhs-2.3.html&quot;.
</p>
<a name="wp1044898"> </a><h3 class="pHeadingRef">
Initialization of external data items
</h3>
<a name="wp1045101"> </a><p class="pBody">
Versions of  ACUCOBOL-GT prior to Version 7.0 had the behavior of initializing external data items to LOW-VALUES, even when the rest of Working-Storage was initialized to spaces.  Beginning with Version 7.0, all Working-Storage data items are initialized to spaces or the value specified with the &quot;-Dv&quot; compile option.  This includes external data items. 
</p>
<a name="wp1045216"> </a><p class="pBody">
To maintain compatibility with programs that rely on the old behavior, you can compile for semantic compatibility with Version 6.2 or earlier.  Use the &quot;-C##&quot; compile option to do this (for example, &quot;-C62&quot; for Version 6.2 compatibility).  When you compile for compatibility with Version 6.2 or earlier, external data items are initialized to null bytes, regardless of how the rest of Working-Storage is initialized. 
</p>
<a name="wp1045236"> </a><h3 class="pHeadingRef">
C functions
</h3>
<a name="wp1045237"> </a><p class="pBody">
Starting with Version 7.0, ACUCOBOL-GT has added significant new features to the C interface, allowing you greater flexibility for calling COBOL programs from C and C++.  
</p>
<a name="wp1045238"> </a><p class="pBody">
For existing programs, this means:
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1045239"> </a><div class="pSmartList1"><li>The cobol() and cobol_no_stop() functions are still supported but have been deprecated.  The new function, acu_cobol(), extends the options available in the C interface.</li></div>
<a name="wp1045240"> </a><div class="pSmartList1"><li>Information on the deprecated cobol() and cobol_no_stop() functions is not documented in Version 7.0.  Refer to Appendix F in previous versions of the ACUCOBOL-GT documentation set for this information.</li></div>
</ul></div>
<a name="wp1045241"> </a><p class="pBody">
Detailed descriptions of the current C functions are available in Chapter 6 of <em class="cEmphasis">A Guide to Interoperating with ACUCOBOL-GT</em> .
</p>
<a name="wp1044419"> </a><h3 class="pHeadingRef">
Compiler changes
</h3>
<a name="wp1044258"> </a><p class="pBody">
Two compilation switches provide compatibility with Version 6.2:
</p>
<a name="wp1044268"> </a><p class="pBodyRelative">
</p><div>
<table border="0" cellpadding="6" cellspacing="1">
  <caption></caption>
  <tr align="left" valign="top">    <td><a name="wp1044261"> </a><p class="pCellBody">
-C62
</p>
</td>
    <td><a name="wp1044263"> </a><p class="pCellBody">
Causes the compiler to generate code according to the rules used by Version 6.2. 
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1044265"> </a><p class="pCellBody">
-Z62
</p>
</td>
    <td><a name="wp1044267"> </a><p class="pCellBody">
Creates object code that can be run with a Version 6.2 runtime.
</p>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>
<a name="wp1044876"> </a><h3 class="pHeadingRef">
Runtime changes
</h3>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1044877"> </a><div class="pSmartList1"><li>The runtime now automatically corrects most reference modification range errors.  It applies the following rules:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp1045405"> </a><div class="pSmartList2"><li>A start reference less than 1 is treated as 1.  For example, var(0:3) is treated as var(1:3).</li></div>
<a name="wp1045406"> </a><div class="pSmartList2"><li>A length reference less than 0 is treated as 0.  Moving a zero-byte item is equivalent to moving spaces to the destination item.  A zero-byte destination is not affected by the move.  In a STRING statement, a length of zero for a string source is treated as 1, not 0. </li></div>
<a name="wp1045492"> </a><div class="pSmartList2"><li>A start plus length reference that is past the end of the item is treated as meaning to the end of the item.  For example, if the var is a PIC X(5) item, var(4:23) is treated as var(4:2).</li></div>
</ol></div>
<a name="wp1045494"> </a><p class="pIndented1">
The WARNINGS runtime configuration variable provides some control over how reference modification range errors are handled.  See its entry in Appendix H.
</p>
<a name="wp1045922"> </a><div class="pSmartList1"><li>The behavior of the character-based tree view control has changed.  In previous versions, the MSG-TV-SELCHANGE message was not sent if the COBOL program deleted an item.  Nor was it sent when the COBOL program first ACCEPTed a tree view control.  Beginning with Version 7.0, the MSG-TV-SELCHANGE message is now sent in both cases. </li></div>
<a name="wp1045923"> </a><div class="pSmartList1"><li>Beginning with Version 7.0, when the runtime reduces the size of a window to fit the screen, it includes any fractional lines and columns that fit, provided the COBOL program attempted to create a window with fractional lines and columns.  For example, if the program creates a 70.0 line window, but only a 66.4 line window fits on the display, the runtime detects that no fractional lines were attempted, and truncates the number of lines to 66.0.  However, if you attempt to create a 70.1 line window, the runtime recognizes the fractional measurement and displays a 66.4 line window.  In prior versions, the runtime always reduced the size of the window to a whole number.  To preserve the old behavior, set the configuration variable V62_MAX_WINDOW to &quot;1&quot; (on, true, yes). </li></div>
<a name="wp1045915"> </a><div class="pSmartList1"><li>Beginning with Version 7.0, the Web runtime uses ANSI_FIXED_FONT as the standard font.  Because some systems may depend on the old font, this change is configurable.  To use the font standard from Versions 6.2 and earlier (SYSTEM_FIXED_FONT), adjust the setting of the configuration variable STD_FIXED_FONT, described in Appendix H.   </li></div>
</ul></div>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com subject=E-01-DS-060621-ACUCOBOL-GT-7.2">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
