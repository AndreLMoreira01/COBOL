<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/15/06 14:43:09" />
  <title>C.10  Changes Affecting Version 4.2</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       ACUCOBOL-GT Appendices <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="gt4c.htm">Appendix C:  Changes Affecting Previous Versions</a> &gt; </p>
<a name="wp1041411"> </a><h2 class="pHeading1">
C.10  Changes Affecting Version 4.2
</h2>
<a name="wp1041412"> </a><p class="pBody">
The following paragraphs describe changes that can affect programs originally written with ACUCOBOL-GT<span style="font-family: Arial, Verdana, Helvetica, sans-serif"> </span>Version 4.2.  
</p>
<a name="wp1034761"> </a><h3 class="pHeadingRef">
Compiler changes
</h3>
<a name="wp1035343"> </a><p class="pBody">
Two compilation switches provide compatibility with Version 4.2:
</p>
<a name="wp1035914"> </a><p class="pBody">
</p><div>
<table border="0" cellpadding="6" cellspacing="1">
  <caption></caption>
  <tr align="left" valign="top">    <td><a name="wp1035920"> </a><p class="pCellBody">
-C42
</p>
</td>
    <td><a name="wp1035922"> </a><p class="pCellBody">
Causes the compiler to generate code according to the rules used by Version&#160;4.2. 
</p>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1035924"> </a><p class="pCellBody">
-Z42
</p>
</td>
    <td><a name="wp1035926"> </a><p class="pCellBody">
Creates object code that can be run with a Version 4.2 runtime.
</p>
</td>
</tr>
</table>
</div>
<p class="pBody">
</p>
<a name="wp1034765"> </a><p class="pBody">
The following paragraphs describe changes that can affect programs originally written with ACUCOBOL-GT<span style="font-family: Arial, Verdana, Helvetica, sans-serif"> </span>Version 4.2.  
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1034766"> </a><div class="pSmartList1"><li>The default ACCEPT size for a numeric-edited field now includes a space for the sign only if the field is signed. You can set the program to include a space for an implied sign by compiling for semantic compatibility with an earlier version of ACUCOBOL-GT using a compilation switch in the command line.</li></div>
<a name="wp1034767"> </a><div class="pSmartList1"><li>One of the general rules for screen control entry has been modified: Prior to Version 4.3, an ACCEPT statement used to set ACCEPT-CONTROL to &quot;1&quot; if the event was a &quot;message&quot; (&quot;MSG-...&quot;) event.  Starting with version 4.3, if the reason for entry is a &quot;notify&quot; (&quot;NTF-...&quot;) event, ACCEPT-CONTROL is set to &quot;1&quot;; otherwise it defaults to &quot;0&quot;).</li></div>
<a name="wp1034768"> </a><div class="pSmartList1"><li>The &quot;-Fo&quot; option has replaced the &quot;-Zo&quot; option. Both compiler options produce the same results, but the &quot;-Zo&quot; option should be considered obsolete.</li></div>
<a name="wp1034769"> </a><div class="pSmartList1"><li>The compiler option &quot;- Rw&quot; has been expanded to allow, in addition to reserved words, the suppression of some non-reserved words, such as control names (e.g., &quot;entry-field&quot;, &quot;label&quot;) or property names (e.g., &quot;max-text&quot;, &quot;bitmap-number&quot;).   If you tell the compiler to suppress a non-reserved word, however, it will do so with the following warning:  &quot;Unknown reserved word: <em class="cEmphasis">non-reserved word.</em>&quot;</li></div>
</ul></div>
<a name="wp1034770"> </a><h3 class="pHeadingRef">
Runtime changes
</h3>
<a name="wp1034771"> </a><p class="pBody">
The following paragraphs describe changes that can affect programs originally written with ACUCOBOL-GT<span style="font-family: Arial, Verdana, Helvetica, sans-serif"> </span>Version 4.2.  
</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1034772"> </a><div class="pSmartList1"><li>If a program is in the event procedure for an active control, and the control activates and subsequently destroys another control, the control whose event procedure is executing is reactivated.  In previous versions, the &quot;active&quot; control was left in an undefined state.</li></div>
<a name="wp1034773"> </a><div class="pSmartList1"><li>When using the library routine WIN$PRINTER with the 32-bit runtime, the newer Windows PageSetup dialog box will appear by default. If you wish to use the old 16-bit PrintSetup dialog box, you must use the operation code WINPRINT-SETUP-OLD.</li></div>
<a name="wp1034774"> </a><div class="pSmartList1"><li>In all releases up to and including the ACUCOBOL-GT 4.2 release, anytime you created an Entry-Field control with a LINES value of &quot;2&quot; or greater, it was treated as a multiline entry field.  In version 4.3, this rule is modified so that a LINES value of &quot;2&quot; or greater implies MULTILINE only if the &quot;CELLS&quot; phrase is not also used or implied.</li></div>
</ul></div>
<a name="wp1034775"> </a><h3 class="pHeadingRef">
Calling COBOL from other languages
</h3>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1034776"> </a><div class="pSmartList1"><li>Windows  95/98 and NT sites that are calling COBOL routines from C with the &quot;cobol&quot; routine need to be aware of a change to the calling convention.  The calling convention has changed from &quot;__cdecl&quot; (the C calling convention) to &quot;__stdcall&quot; (the Pascal calling convention, used by Windows API routines).  This was done to make integration with Visual Basic and Delphi more straightforward.</li></div>
<a name="wp1034777"> </a><p class="pIndented1">
Programs that call the &quot;cobol&quot; routine must be sure to include &quot;sub.h&quot; (included with ACUCOBOL-GT in the &quot;lib&quot; directory).  This includes a declaration of the &quot;cobol&quot; routine for all platforms.  This ensures that you use the correct calling convention when calling the &quot;cobol&quot; routine.  If you have established routines that call &quot;cobol&quot;, these must be recompiled in order to use the new calling convention.  
</p>
</ul></div>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com subject=E-01-DS-060621-ACUCOBOL-GT-7.2">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
