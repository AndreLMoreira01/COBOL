<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/15/06 11:14:29" />
  <title>11.6.3.5  Understanding the generated code (paged controls)</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       AcuBench User's Guide <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="wkb11.htm">Chapter 11: Working with Screens</a> &gt; <a href="wkb1122.htm">11.6  Designing a Screen</a> &gt; <a href="wkb1125.htm">11.6.3  Autoload Controls</a> &gt; </p>
<a name="wp1054243"> </a><h2 class="pHeading3">
11.6.3.5  Understanding the generated code (paged controls)
</h2>
<a name="wp1054237"> </a><p class="pBody">
The code used to load data into a paged control differs significantly from that used to load data into an unpaged control.  In the latter case, all data from the specified source is loaded into the control (and into memory) when the control is displayed on the screen.  With a paged control, however, only the data visible in the control (that is, a single page of data) is loaded into memory.  This can result in a dramatic performance improvement when the data source contains large numbers of records.
</p>
<a name="wp1053913"> </a><p class="pBody">
Note that the method used to load data into a paged grid is substantially different from the method used to load data into a paged list box, due to fundamental differences in the control type.
</p>
<a name="wp1053918"> </a><h3 class="pHeadingRef">
Generated Event Paragraph code sample:  Paged Grid
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
* Autoload paged control code generated by Drag-And-Drop<a name="wp1054371"> </a>
 Screen1-Gd-1-Ev-Msg-Paged-Next.<a name="wp1054372"> </a>
     PERFORM event-data-2 TIMES<a name="wp1054373"> </a>
        READ clients NEXT RECORD<a name="wp1054374"> </a>
           AT END<a name="wp1054375"> </a>
              MOVE event-action-fail TO event-action<a name="wp1054376"> </a>
              EXIT PARAGRAPH<a name="wp1054377"> </a>
        END-READ<a name="wp1054378"> </a>
     END-PERFORM.<a name="wp1054379"> </a>
     PERFORM ACU-Screen1-Gd-1-Autoload-Add.<a name="wp1054380"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1054381"> </a>
 Screen1-Gd-1-Ev-Msg-Paged-Prev.<a name="wp1054382"> </a>
     PERFORM event-data-2 TIMES<a name="wp1054383"> </a>
        READ clients PREVIOUS RECORD<a name="wp1054384"> </a>
           AT END<a name="wp1054385"> </a>
              MOVE event-action-fail TO event-action<a name="wp1054386"> </a>
              EXIT PARAGRAPH<a name="wp1054387"> </a>
        END-READ<a name="wp1054388"> </a>
     END-PERFORM.<a name="wp1054389"> </a>
     PERFORM ACU-Screen1-Gd-1-Autoload-Load.<a name="wp1054390"> </a>
     MODIFY Screen1-Gd-1, INSERTION-INDEX=2,<a name="wp1054391"> </a>
     RECORD-TO-ADD = Screen1-Gd-1-Autoload.<a name="wp1054392"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1054393"> </a>
 Screen1-Gd-1-Ev-Msg-Paged-First.<a name="wp1054394"> </a>
     MOVE LOW-VALUES TO cl-client-id<a name="wp1054395"> </a>
     START clients, KEY &gt;= cl-client-id<a name="wp1054396"> </a>
        INVALID KEY<a name="wp1054397"> </a>
           MOVE event-action-fail TO event-action<a name="wp1054398"> </a>
     END-START.<a name="wp1054399"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1054400"> </a>
 Screen1-Gd-1-Ev-Msg-Paged-Last.<a name="wp1054401"> </a>
     MOVE HIGH-VALUES TO cl-client-id<a name="wp1054402"> </a>
     START clients, KEY &lt;= cl-client-id<a name="wp1054403"> </a>
        INVALID KEY<a name="wp1054404"> </a>
           MOVE event-action-fail TO event-action<a name="wp1054405"> </a>
    END-START.<a name="wp1053919"> </a>
</pre></div>
<a name="wp1053923"> </a><h3 class="pHeadingRef">
Generated Event Paragraph code sample:  Paged List-Box
</h3>
<div class="pPreformatted"><pre class="pPreformatted">
* Autoload paged control code generated by Drag-And-Drop<a name="wp1053931"> </a>
 Screen1-Lb-1-Ev-Ntf-Pl-Next.<a name="wp1053932"> </a>
     PERFORM Screen1-Lb-1-get-next-item .<a name="wp1053933"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1053934"> </a>
 Screen1-Lb-1-Ev-Ntf-Pl-Prev.<a name="wp1053935"> </a>
     PERFORM Screen1-Lb-1-get-prev-item .<a name="wp1053936"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1053937"> </a>
 Screen1-Lb-1-Ev-Ntf-Pl-Nextpage.<a name="wp1053938"> </a>
     MODIFY Screen1-Lb-1, MASS-UPDATE = 1<a name="wp1053939"> </a>
     PERFORM Screen1-Lb-1-Get-Next-Item<a name="wp1053940"> </a>
             Screen1-Lb-1-page-size times<a name="wp1053941"> </a>
     MODIFY Screen1-Lb-1, MASS-UPDATE = 0.<a name="wp1053942"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1053943"> </a>
 Screen1-Lb-1-Ev-Ntf-Pl-Prevpage.<a name="wp1053944"> </a>
     MODIFY Screen1-Lb-1, MASS-UPDATE = 1<a name="wp1053945"> </a>
     PERFORM Screen1-Lb-1-Get-Prev-Item<a name="wp1053946"> </a>
             Screen1-Lb-1-page-size times<a name="wp1053947"> </a>
     MODIFY Screen1-Lb-1, MASS-UPDATE = 0.<a name="wp1053948"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1053949"> </a>
 Screen1-Lb-1-Ev-Ntf-Pl-First.<a name="wp1053950"> </a>
     MOVE LOW-VALUES TO cl-client-id<a name="wp1053951"> </a>
     START clients, KEY NOT &lt; cl-client-id<a name="wp1053952"> </a>
     END-START.<a name="wp1053953"> </a>
     SET Screen1-Lb-1-READING-FORWARDS TO TRUE<a name="wp1053954"> </a>
     MODIFY Screen1-Lb-1, MASS-UPDATE = 1<a name="wp1053955"> </a>
                          RESET-LIST = 1.<a name="wp1053956"> </a>
     PERFORM Screen1-Lb-1-get-next-item<a name="wp1053957"> </a>
             Screen1-Lb-1-page-size times<a name="wp1053958"> </a>
     MODIFY Screen1-Lb-1, MASS-UPDATE = 0.<a name="wp1053959"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1053960"> </a>
 Screen1-Lb-1-Ev-Ntf-Pl-Last.<a name="wp1053961"> </a>
     MOVE HIGH-VALUES TO cl-client-id<a name="wp1053962"> </a>
     START clients, KEY NOT &gt; cl-client-id<a name="wp1053963"> </a>
     END-START.<a name="wp1053964"> </a>
     SET Screen1-Lb-1-READING-BACKWARDS TO TRUE<a name="wp1053965"> </a>
     MODIFY Screen1-Lb-1, MASS-UPDATE = 1<a name="wp1053966"> </a>
                          RESET-LIST = 1.<a name="wp1053967"> </a>
     PERFORM Screen1-Lb-1-get-prev-item<a name="wp1053968"> </a>
             Screen1-Lb-1-page-size times<a name="wp1053969"> </a>
     MODIFY Screen1-Lb-1, MASS-UPDATE = 0.<a name="wp1053970"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1053971"> </a>
 Screen1-Lb-1-get-next-item.<a name="wp1053972"> </a>
     EVALUATE TRUE<a name="wp1053973"> </a>
         WHEN Screen1-Lb-1-at-start<a name="wp1053974"> </a>
             MOVE low-value to cl-client-id<a name="wp1053975"> </a>
             START clients, key not &lt; cl-client-id<a name="wp1053976"> </a>
             END-START<a name="wp1053977"> </a>
             ADD 1 to Screen1-Lb-1-page-size<a name="wp1053978"> </a>
                 GIVING Screen1-Lb-1-number-reads-needed<a name="wp1053979"> </a>
         WHEN Screen1-Lb-1-at-end<a name="wp1053980"> </a>
              EXIT paragraph<a name="wp1053981"> </a>
         WHEN Screen1-Lb-1-reading-backwards<a name="wp1053982"> </a>
              MOVE Screen1-Lb-1-page-size to<a name="wp1053983"> </a>
                   Screen1-Lb-1-number-reads-needed<a name="wp1053984"> </a>
         WHEN Screen1-Lb-1-reading-forwards<a name="wp1053985"> </a>
              MOVE 1 to Screen1-Lb-1-number-reads-needed<a name="wp1053986"> </a>
     END-EVALUATE.<a name="wp1053987"> </a>
     PERFORM Screen1-Lb-1-number-reads-needed times<a name="wp1053988"> </a>
        READ clients next record<a name="wp1053989"> </a>
             AT END<a name="wp1053990"> </a>
                SET Screen1-Lb-1-at-end TO TRUE<a name="wp1053991"> </a>
                EXIT PARAGRAPH<a name="wp1053992"> </a>
        END-READ<a name="wp1053993"> </a>
     END-PERFORM.<a name="wp1053994"> </a>
     INITIALIZE Screen1-Lb-1-Autoload<a name="wp1053995"> </a>
     PERFORM Acu-Screen1-Lb-1-Autoload-Load<a name="wp1053996"> </a>
     MODIFY Screen1-Lb-1, item-to-add = Screen1-Lb-1-Autoload<a name="wp1053997"> </a>
     SET Screen1-Lb-1-reading-forwards TO TRUE.<a name="wp1053998"> </a>
* Autoload paged control code generated by Drag-And-Drop<a name="wp1053999"> </a>
 Screen1-Lb-1-get-prev-item.<a name="wp1054000"> </a>
     EVALUATE TRUE<a name="wp1054001"> </a>
        WHEN Screen1-Lb-1-at-end<a name="wp1054002"> </a>
           MOVE high-value to cl-client-id<a name="wp1054003"> </a>
           START clients, KEY NOT &gt; cl-client-id<a name="wp1054004"> </a>
           END-START<a name="wp1054005"> </a>
           ADD 1 TO Screen1-Lb-1-page-size<a name="wp1054006"> </a>
                 GIVING Screen1-Lb-1-number-reads-needed<a name="wp1054007"> </a>
        WHEN Screen1-Lb-1-at-start<a name="wp1054008"> </a>
           EXIT paragraph<a name="wp1054009"> </a>
        WHEN Screen1-Lb-1-reading-forwards<a name="wp1054010"> </a>
           MOVE Screen1-Lb-1-page-size TO<a name="wp1054011"> </a>
                Screen1-Lb-1-number-reads-needed<a name="wp1054012"> </a>
        WHEN Screen1-Lb-1-reading-backwards<a name="wp1054013"> </a>
           MOVE 1 TO Screen1-Lb-1-number-reads-needed<a name="wp1054014"> </a>
     END-EVALUATE.<a name="wp1054015"> </a>
     PERFORM Screen1-Lb-1-number-reads-needed times<a name="wp1054016"> </a>
        READ clients previous record<a name="wp1054017"> </a>
           AT END<a name="wp1054018"> </a>
              SET Screen1-Lb-1-at-start TO TRUE<a name="wp1054019"> </a>
              EXIT PARAGRAPH<a name="wp1054020"> </a>
        END-READ<a name="wp1054021"> </a>
     END-PERFORM.<a name="wp1054022"> </a>
     INITIALIZE Screen1-Lb-1-Autoload<a name="wp1054023"> </a>
     PERFORM Acu-Screen1-Lb-1-Autoload-Load<a name="wp1054024"> </a>
     MODIFY Screen1-Lb-1, insertion-index = 1<a name="wp1054025"> </a>
     ITEM-TO-ADD = Screen1-Lb-1-Autoload<a name="wp1054026"> </a>
     SET Screen1-Lb-1-reading-backwards TO TRUE.<a name="wp1053924"> </a>
</pre></div>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com?subject=E-01-UG-060621-AcuBench-7.2">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
