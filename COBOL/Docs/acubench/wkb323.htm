<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.5.1025" />
  <meta name="TEMPLATEBASE" content="Acucorp WWH" />
  <meta name="LASTUPDATED" content="06/15/06 11:13:56" />
  <title>3.5.4.3  The command line interface to AcuBench</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>
 </head>

 <body onLoad="WWHUpdate();">

    <a href="../docs.htm" target="acudoc"><img src="images/sbooks.gif" width="70" height="27" border="0" alt="Books" align="right" /></a>
    <span style="font-size: 18px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       AcuBench User's Guide <br />
    </font></span>
    <span style="font-size: 14px ; font-weight: bold"><font face="Arial, Helvetica, sans-serif">
       Version 7.2
     </font></span>

 <p />

 <blockquote>
<p class="breadcrumb"><a href="wkb3.htm">Chapter 3: Workbench Concepts</a> &gt; <a href="wkb311.htm">3.5  Development Approaches</a> &gt; <a href="wkb320.htm">3.5.4  Working with Large Applications</a> &gt; </p>
<a name="wp1055398"> </a><h2 class="pHeading3">
3.5.4.3  The command line interface to AcuBench
</h2>
<a name="wp1056204"> </a><p class="pBody">
To make it easier to manage multiple small projects, AcuBench has a command line interface that allows you to generate and build workspaces from the Windows <b class="cBold">cmd</b> shell.  
</p>
<a name="wp1057553"> </a><p class="pNote">
<hr />
<b>Note:  </b>The Windows &quot;Command Prompt&quot; shortcut launches the 16-bit <span style="font-family: Arial, Verdana, Helvetica, sans-serif; font-weight: bold">command.com</span> shell.  The AcuBench command line interface does not function in this environment.  Instead, open the Start Menu and select <span style="font-family: Arial, Verdana, Helvetica, sans-serif; font-weight: bold">Run</span>.  In the Run dialog, type <span style="font-family: Arial, Verdana, Helvetica, sans-serif; font-weight: bold">cmd</span> and press Enter to launch the 32-bit shell.
<hr />
</p>
<a name="wp1057554"> </a><p class="pBody">
The AcuBench command line interface allows you to generate and build an entire workspace, or any program within a workspace.  By default, whichever project mode is currently active for the project (as recorded in the &quot;.pjt&quot; file) is used to determine the compiler settings used for the build.
</p>
<a name="wp1059429"> </a><p class="pBody">
It is important to remember that only a single instance of each AcuBench version can run on a given machine.  This means that you must close the IDE before using the command line interface.
</p>
<a name="wp1059381"> </a><h3 class="pHeadingRef">
Building a workspace
</h3>
<a name="wp1056217"> </a><p class="pBody">
The syntax for building a workspace using the command line interface is as follows:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
[acupath]\acubench72.exe&#160;/build&#160;[projectdir]\[workspace.pjt]<a name="wp1056563"> </a>
</pre></div>
<a name="wp1056562"> </a><p class="pBody">
For example, if you have AcuBench installed in the default directory, and you would like to generate and build a workspace called &quot;Project1&quot;, use the following command: 
</p>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
c:\Acucorp\Acucbl720\acubench\acubench72.exe&#160;/build&#160;c:\project1\project1.pjt<a name="wp1056226"> </a>
</pre></div>
<a name="wp1056532"> </a><p class="pBody">
From the command line interface, the &quot;/build&quot; and &quot;/rebuild&quot; flags are interchangeable.  With either parameter, AcuBench checks whether code has changed since the last build.  If any part of the program has changed, the code is regenerated and compiled.  This is the same behavior that you get when you execute a Build Workspace command from the AcuBench Build menu.
</p>
<a name="wp1059390"> </a><h3 class="pHeadingRef">
The log file
</h3>
<a name="wp1056723"> </a><p class="pBody">
All output messages generated during the build are recorded in a file called &quot;build.log&quot;, placed in the project directory for the workspace being built.  If this log file does not exist, it is created.  If the log file already exists, messages generated by the new build are appended to the existing log.  The log file also includes the start and end times for the build.
</p>
<a name="wp1059403"> </a><h3 class="pHeadingRef">
Building a single program
</h3>
<a name="wp1056714"> </a><p class="pBody">
To generate and build a single program in a project, the syntax is as follows:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
[acupath]\acubench72.exe&#160;/build&#160;[projectdir]wkspc.pjt&#160;prg.psf<a name="wp1056552"> </a>
</pre></div>
<a name="wp1059411"> </a><h3 class="pHeadingRef">
Using a build script
</h3>
<a name="wp1056230"> </a><p class="pBody">
To generate and build multiple workspaces at the same time, you can create Windows script (batch) files.  In the following example, the script builds three programs residing in two workspaces and prints compiler success or failure messages to the screen:
</p>
<div class="pPreformatted"><pre class="pPreformatted">
@echo off<a name="wp1056601"> </a>
rem 
-------------------------------------------------------------<a name="wp1056602"> </a>
set bench_72=&quot;C:\acucorp\acucbl720\acubench\acubench72&quot;<a name="wp1056603"> </a>
echo 
*************************************************************<a name="wp1056605"> </a>
echo ... now building program1<a name="wp1056606"> </a>
%bench_72% /build c:\project1\sample1.pjt program1.psf<a name="wp1056607"> </a>
IF %errorlevel%==0 ECHO Success.<a name="wp1056608"> </a>
IF NOT %errorlevel%==0 ECHO Fail.<a name="wp1056609"> </a>
echo.<a name="wp1056234"> </a>
echo ... now building program5<a name="wp1056619"> </a>
%bench_72% /build c:\project1\sample1.pjt program5.psf<a name="wp1056620"> </a>
IF %errorlevel%==0 ECHO Success.<a name="wp1056621"> </a>
IF NOT %errorlevel%==0 ECHO Fail.<a name="wp1056622"> </a>
echo.<a name="wp1056623"> </a>
echo ... now building sample25<a name="wp1056632"> </a>
%bench_72% /build c:\demos\demos.pjt sample25.psf<a name="wp1056633"> </a>
IF %errorlevel%==0 ECHO Success.<a name="wp1056634"> </a>
IF NOT %errorlevel%==0 ECHO Fail.<a name="wp1056635"> </a>
echo.<a name="wp1056636"> </a>
</pre></div>
<a name="wp1056617"> </a><p class="pBody">
Likewise, a script file could be used to build several complete workspaces and create a log file, or send a message to the system administrator when the builds are complete.
</p>
 </blockquote>

 <hr />

 <table align="left" border="0" cellspacing="0" cellpadding="0">
   <tr>
     <td align="left" width="300">
       <span style="font-size: 12px ; font-weight: bold ; font-family: Arial, Helvetica, sans-serif">
         <a href="http://www.acucorp.com">Acucorp, Inc.</a><br />
       </span>
       <span style="font-size: 10px ; font-family: Arial, Helvetica, sans-serif">
         Voice: 800.262.6585 (U.S.A. and Canada)<br />
         Voice: 858.689.4500<br />
         Fax: 858.689.4550<br />
         Please share your comments on this manual<br />
         or on any Acucorp documentation with the<br />
         <a href="mailto:docfeedback@acucorp.com?subject=E-01-UG-060621-AcuBench-7.2">Acucorp Communications Department</a>.<br />
       </span>
     </td>
   </tr>
 </table>

<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 
</body>
</html>
